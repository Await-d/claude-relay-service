# 上游同步记录

本文件记录与上游仓库 (Wei-Shaw/claude-relay-service) 的同步历史。

---

## 最新同步记录

**同步日期**: 2025-11-26
**上游版本**: v1.1.210
**上游提交**: `91797766` - chore: sync VERSION file with release v1.1.210 [skip ci]
**本地标记**: `sync-upstream-v1.1.210-20251126`
**同步提交**: `0cc37dff` - Merge remote-tracking branch 'upstream/main'

### 同步内容

- ✅ 版本号同步: v1.1.210
- ✅ 主分支完全同步
- ✅ 无冲突

### 本地独有功能（未提交到上游）

1. **OpenAI-Responses 分组功能支持**
   - 文件: `src/routes/admin.js`, `src/services/accountGroupService.js`
   - 提交: `2a6bd1a2`

2. **GPT/GPT-Responses 限流机制配置 UI**
   - 文件: `web/admin-spa/src/components/accounts/AccountForm.vue`
   - 提交: `2a6bd1a2`

3. **Azure OpenAI 平台规范化**
   - 文件: `src/services/accountGroupService.js`
   - 提交: `2a6bd1a2`

4. **可复用的 RateLimitConfig 组件**
   - 文件: `web/admin-spa/src/components/common/RateLimitConfig.vue`
   - 提交: `2a6bd1a2`

5. **前端依赖更新**
   - 文件: `web/admin-spa/package.json`, `web/admin-spa/package-lock.json`
   - 提交: `f9b362b6`

### 下次同步前的检查清单

- [ ] 检查上游是否有新的 release 版本
- [ ] 查看上游的提交历史: `git log HEAD..upstream/main`
- [ ] 查看文件差异: `git diff HEAD upstream/main`
- [ ] 备份本地独有的功能（如有必要）
- [ ] 执行合并: `git merge upstream/main`
- [ ] 解决冲突（如有）
- [ ] 测试本地独有功能是否正常工作
- [ ] 创建新的同步标记

---

## 历史同步记录

### 2025-11-26 - v1.1.210

**标记**: `sync-upstream-v1.1.210-20251126`

**上游变更**:
- 复制完整Claude配置按钮增加export
- admin-next/api-stats查询被禁用的key增加名字显示
- 修复apikeys页面窗口限制显示错误的bug

**本地状态**:
- 主分支: `main`
- 提交数: 领先上游 2 个提交
- 文件差异: 4 个文件，+415/-11 行

**备注**:
- 首次创建同步记录
- 所有上游更新已合并
- 本地功能测试通过

---

## 快速命令参考

### 同步上游更新
```bash
# 1. 获取上游最新代码
git fetch upstream

# 2. 查看上游更新
git log HEAD..upstream/main --oneline

# 3. 查看文件差异
git diff HEAD upstream/main --stat

# 4. 合并上游更新
git merge upstream/main

# 5. 创建新的同步标记
git tag -a "sync-upstream-v[VERSION]-$(date +%Y%m%d)" -m "同步说明"

# 6. 推送标记
git push origin --tags
```

### 查看同步历史
```bash
# 查看所有同步标记
git tag -l "sync-upstream*"

# 查看特定标记的详细信息
git show sync-upstream-v1.1.210-20251126

# 比较两次同步之间的差异
git diff sync-upstream-v1.1.209-YYYYMMDD sync-upstream-v1.1.210-20251126
```

### 回滚到某次同步点
```bash
# 创建临时分支查看
git checkout -b temp-branch sync-upstream-v1.1.210-20251126

# 或者重置到该点（谨慎使用）
git reset --hard sync-upstream-v1.1.210-20251126
```

---

## 上游仓库信息

- **仓库地址**: https://github.com/Wei-Shaw/claude-relay-service.git
- **主分支**: main
- **开发分支**: dev
- **本地配置**: `upstream`

---

最后更新: 2025-11-26
