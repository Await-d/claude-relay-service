import{aR as pt,r as m,c as je,a_ as ut,o as gt,q as _t,Z as Ut,x as g,z as t,L as S,C as H,O as b,u as p,K as y,S as Be,aq as E,al as G,P as k,aY as te,aW as ke,Q as He,ac as rt,R as ct,J as ft,ax as Rt,T as Et,Y as Ft,y as c}from"./vue-vendor-CngTbNDx.js";import{c as _,s as u,_ as Bt}from"./index-CQzQO6ls.js";import"./element-plus-dC9ox4YM.js";import"./vendor-yff5vP9v.js";const Ot=pt("settings",()=>{const x=m({siteName:"Claude Relay Service",siteIcon:"",siteIconData:"",showAdminButton:!0,updatedAt:null}),B=m(!1),Q=m(!1),P=async()=>{B.value=!0;try{const d=await _.get("/admin/oem-settings");return d&&d.success&&(x.value={...x.value,...d.data},A()),d}catch(d){throw console.error("Failed to load OEM settings:",d),d}finally{B.value=!1}},v=async d=>{Q.value=!0;try{const h=await _.put("/admin/oem-settings",d);return h&&h.success&&(x.value={...x.value,...h.data},A()),h}catch(h){throw console.error("Failed to save OEM settings:",h),h}finally{Q.value=!1}},N=async()=>{const d={siteName:"Claude Relay Service",siteIcon:"",siteIconData:"",showAdminButton:!0,updatedAt:null};return x.value={...d},await v(d)},A=()=>{if(x.value.siteName&&(document.title=`${x.value.siteName} - ç®¡ç†åå°`),x.value.siteIconData||x.value.siteIcon){const d=document.querySelector('link[rel="icon"]')||document.createElement("link");d.rel="icon",d.href=x.value.siteIconData||x.value.siteIcon,document.querySelector('link[rel="icon"]')||document.head.appendChild(d)}};return{oemSettings:x,loading:B,saving:Q,loadOemSettings:P,saveOemSettings:v,resetOemSettings:N,applyOemSettings:A,formatDateTime:d=>d?new Date(d).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):"",validateIconFile:d=>{const h=[];return d.size>350*1024&&h.push("å›¾æ ‡æ–‡ä»¶å¤§å°ä¸èƒ½è¶…è¿‡ 350KB"),["image/x-icon","image/png","image/jpeg","image/jpg","image/svg+xml"].includes(d.type)||h.push("ä¸æ”¯æŒçš„æ–‡ä»¶ç±»å‹ï¼Œè¯·é€‰æ‹© .ico, .png, .jpg æˆ– .svg æ–‡ä»¶"),{isValid:h.length===0,errors:h}},fileToBase64:d=>new Promise((h,Y)=>{const M=new FileReader;M.onload=J=>h(J.target.result),M.onerror=Y,M.readAsDataURL(d)})}}),Oe=x=>{if(x==null||x==="")return 0;if(typeof x=="number"&&Number.isFinite(x))return x;const B=Number(x);return Number.isFinite(B)?B:0},jt=(x={})=>{if(!x||typeof x!="object")return{totalTokens:0,inputTokens:0,outputTokens:0,cacheCreateTokens:0,cacheReadTokens:0,total_tokens:0,input_tokens:0,output_tokens:0,cache_creation_input_tokens:0,cache_read_input_tokens:0};const B=Oe(x.inputTokens??x.input_tokens??x.promptTokens??x.prompt_tokens),Q=Oe(x.outputTokens??x.output_tokens??x.completionTokens??x.completion_tokens),P=Oe(x.cacheCreateTokens??x.cache_creation_input_tokens??x.cacheCreate??x.cache_create_tokens),v=Oe(x.cacheReadTokens??x.cache_read_input_tokens??x.cacheRead??x.cache_read_tokens);let N=Oe(x.totalTokens??x.total_tokens??x.total??x.tokens);return N||(N=B+Q+P+v),{...x,totalTokens:N,inputTokens:B,outputTokens:Q,cacheCreateTokens:P,cacheReadTokens:v,total_tokens:N,input_tokens:B,output_tokens:Q,cache_creation_input_tokens:P,cache_read_input_tokens:v}},qt=pt("requestLogs",()=>{const x=m([]),B=m(!1),Q=m(!1),P=m({totalRequests:0,errorRate:0,averageResponseTime:0,topApiKeys:[]}),v=m([]),N=m(!1),A=m(null),ae=m(null),ge=m(0),R=m({apiKeyId:"",startDate:"",endDate:"",statusCode:"",method:"",search:"",page:1,limit:50,sortBy:"timestamp",sortOrder:"desc"}),d=m({page:1,limit:50,total:0,totalPages:0}),h=m({enabled:!1,mode:"performance",sampling:{successRate:.1,errorRate:1,slowRequestThreshold:5e3},retention:{days:30,maxEntries:1e5},async:{batchSize:50,flushInterval:2e3}}),Y=m(!1),M=m(!1),J=o=>{var n;if(!o||typeof o!="object")return o;const l=jt(o.tokenDetails||o.tokenSummary||o.usage||{});o.tokenDetails=l;const i=l.totalTokens>0?Number((l.outputTokens/l.totalTokens*100).toFixed(2)):0;return o.tokenSummary={...o.tokenSummary||{},totalTokens:l.totalTokens,inputTokens:l.inputTokens,outputTokens:l.outputTokens,cacheCreateTokens:l.cacheCreateTokens,cacheReadTokens:l.cacheReadTokens,efficiency:((n=o.tokenSummary)==null?void 0:n.efficiency)??i},o},ne=o=>{if(!Array.isArray(o)||o.length===0)return[];const l=new Map,i=30*1e3;return o.forEach(n=>{let T;if(n.requestId)T=`req_${n.requestId}`;else{const U=new Date(n.timestamp||Date.now()).getTime(),O=Math.floor(U/i)*i;T=`${n.keyId||"unknown"}_${n.path||"/"}_${n.method||"GET"}_${O}`}if(l.has(T)){const U=l.get(T),O=ie(U,n);l.set(T,O)}else l.set(T,{...n,_mergedCount:1,_originalIds:[n.id||n.logId||n.timestamp]})}),Array.from(l.values()).map(n=>J(n)).sort((n,T)=>new Date(T.timestamp)-new Date(n.timestamp))},ie=(o,l)=>{var n,T,U,O,K,I,z,$,w,D,j,Te,Ue,Me,L,pe,Z,Ce,Ae,Se,se,re,q,ye,le,De,be,Ie,me,xe,$e,ve;const i={...o};return new Date(l.timestamp)>new Date(o.timestamp)&&(i.timestamp=l.timestamp,i.statusCode=l.statusCode||o.statusCode,i.responseTime=l.responseTime||o.responseTime),i.tokens=(i.tokens||0)+(l.tokens||0),i.inputTokens=(i.inputTokens||0)+(l.inputTokens||0),i.outputTokens=(i.outputTokens||0)+(l.outputTokens||0),i.cacheCreateTokens=(i.cacheCreateTokens||0)+(l.cacheCreateTokens||0),i.cacheReadTokens=(i.cacheReadTokens||0)+(l.cacheReadTokens||0),i.cost=(i.cost||0)+(l.cost||0),(l.tokenDetails||l.costDetails)&&(i.tokenDetails={totalTokens:(((n=i.tokenDetails)==null?void 0:n.totalTokens)||0)+(((T=l.tokenDetails)==null?void 0:T.totalTokens)||0),inputTokens:(((U=i.tokenDetails)==null?void 0:U.inputTokens)||0)+(((O=l.tokenDetails)==null?void 0:O.inputTokens)||0),outputTokens:(((K=i.tokenDetails)==null?void 0:K.outputTokens)||0)+(((I=l.tokenDetails)==null?void 0:I.outputTokens)||0),cacheCreateTokens:(((z=i.tokenDetails)==null?void 0:z.cacheCreateTokens)||0)+((($=l.tokenDetails)==null?void 0:$.cacheCreateTokens)||0),cacheReadTokens:(((w=i.tokenDetails)==null?void 0:w.cacheReadTokens)||0)+(((D=l.tokenDetails)==null?void 0:D.cacheReadTokens)||0),cacheHitRatio:Math.max(((j=i.tokenDetails)==null?void 0:j.cacheHitRatio)||0,((Te=l.tokenDetails)==null?void 0:Te.cacheHitRatio)||0),tokenEfficiency:Math.max(((Ue=i.tokenDetails)==null?void 0:Ue.tokenEfficiency)||0,((Me=l.tokenDetails)==null?void 0:Me.tokenEfficiency)||0),ephemeral5mTokens:(((L=i.tokenDetails)==null?void 0:L.ephemeral5mTokens)||0)+(((pe=l.tokenDetails)==null?void 0:pe.ephemeral5mTokens)||0),ephemeral1hTokens:(((Z=i.tokenDetails)==null?void 0:Z.ephemeral1hTokens)||0)+(((Ce=l.tokenDetails)==null?void 0:Ce.ephemeral1hTokens)||0)},i.costDetails={totalCost:(((Ae=i.costDetails)==null?void 0:Ae.totalCost)||0)+(((Se=l.costDetails)==null?void 0:Se.totalCost)||0),costPerToken:((se=l.costDetails)==null?void 0:se.costPerToken)||((re=i.costDetails)==null?void 0:re.costPerToken)||0,currency:((q=l.costDetails)==null?void 0:q.currency)||((ye=i.costDetails)==null?void 0:ye.currency)||"USD"}),l.usage&&(i.usage={input_tokens:(((le=i.usage)==null?void 0:le.input_tokens)||0)+(((De=l.usage)==null?void 0:De.input_tokens)||0),output_tokens:(((be=i.usage)==null?void 0:be.output_tokens)||0)+(((Ie=l.usage)==null?void 0:Ie.output_tokens)||0),cache_creation_input_tokens:(((me=i.usage)==null?void 0:me.cache_creation_input_tokens)||0)+(((xe=l.usage)==null?void 0:xe.cache_creation_input_tokens)||0),cache_read_input_tokens:((($e=i.usage)==null?void 0:$e.cache_read_input_tokens)||0)+(((ve=l.usage)==null?void 0:ve.cache_read_input_tokens)||0)}),l.requestHeaders&&Object.keys(l.requestHeaders).length>0&&(i.requestHeaders={...i.requestHeaders,...l.requestHeaders}),l.responseHeaders&&Object.keys(l.responseHeaders).length>0&&(i.responseHeaders={...i.responseHeaders,...l.responseHeaders}),l.requestBody&&!i.requestBody&&(i.requestBody=l.requestBody),l.responseBody&&!i.responseBody&&(i.responseBody=l.responseBody),i._mergedCount=(i._mergedCount||1)+1,i._originalIds=[...i._originalIds||[],l.id||l.logId||l.timestamp],i},_e=je(()=>{const o=Array.isArray(x.value)?x.value:[];return ne(o)}),V=je(()=>{const o=R.value;return o.apiKeyId||o.startDate||o.endDate||o.statusCode||o.method||o.search}),de=je(()=>{const o=new Map;return Array.isArray(v.value)&&v.value.forEach(l=>{if(l&&l.id){const i={id:l.id,name:l.name||`API Key ${l.id}`,status:l.status||"unknown"};o.set(l.id,i)}}),o}),W=()=>{var n;if(!((n=v.value)!=null&&n.length)||A.value)return!0;const o=Date.now(),l=ae.value,i=5*60*1e3;return!l||o-l>i},s=async(o=0)=>{var n,T,U,O,K,I,z,$;const i=[1e3,2e3,4e3];try{console.log(`[fetchApiKeys] å°è¯•è·å– API Keysï¼Œé‡è¯•æ¬¡æ•°: ${o}`);const w=await _.get("/admin/api-keys");if(!w)throw new Error("æœåŠ¡å™¨å“åº”ä¸ºç©º");if(!w.success)throw new Error(w.message||`æœåŠ¡å™¨è¿”å›é”™è¯¯çŠ¶æ€: success=${w.success}`);if(!w.data)throw new Error("å“åº”æ•°æ®ä¸ºç©º");let D=[];if(Array.isArray(w.data))D=w.data;else if(w.data.apiKeys&&Array.isArray(w.data.apiKeys))D=w.data.apiKeys;else if(typeof w.data=="object"&&Object.keys(w.data).length>0){const j=Object.values(w.data).filter(Array.isArray);j.length>0?D=j[0]:(console.warn("[fetchApiKeys] API Key æ•°æ®æ ¼å¼å¼‚å¸¸ï¼Œæ— æ³•è§£ææ•°ç»„:",w.data),D=[])}else console.warn("[fetchApiKeys] æœªçŸ¥çš„ API Key æ•°æ®æ ¼å¼:",w.data),D=[];return D=D.filter(j=>!j||typeof j!="object"?(console.warn("[fetchApiKeys] è·³è¿‡æ— æ•ˆçš„ API Key é¡¹:",j),!1):!0),D=D.map(j=>({id:j.id||j.keyId||j._id||null,name:j.name||j.keyName||`API Key ${j.id||"Unknown"}`,status:j.status||"active",...j})),v.value=D,A.value=null,ae.value=Date.now(),ge.value=0,console.log(`[fetchApiKeys] æˆåŠŸè·å– ${D.length} ä¸ª API Keys`),{success:!0,data:D}}catch(w){if(console.error(`[fetchApiKeys] è·å–å¤±è´¥ (é‡è¯• ${o}/3):`,{message:w.message,status:(n=w.response)==null?void 0:n.status,statusText:(T=w.response)==null?void 0:T.statusText,code:w.code,stack:(U=w.stack)==null?void 0:U.substring(0,200)}),o<3){const j=i[o]||4e3;return console.log(`[fetchApiKeys] ${j}ms åè¿›è¡Œç¬¬ ${o+1} æ¬¡é‡è¯•...`),await new Promise(Te=>setTimeout(Te,j)),s(o+1)}A.value={message:w.message||"è·å– API Key åˆ—è¡¨å¤±è´¥",code:w.code||"FETCH_ERROR",status:((O=w.response)==null?void 0:O.status)||null,timestamp:Date.now(),retryCount:o},ge.value=o;let D="è·å– API Key åˆ—è¡¨å¤±è´¥";throw w.code==="NETWORK_ERROR"||!navigator.onLine?D="ç½‘ç»œè¿æ¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œåé‡è¯•":((K=w.response)==null?void 0:K.status)===401?D="è®¤è¯å¤±è´¥ï¼Œè¯·é‡æ–°ç™»å½•":((I=w.response)==null?void 0:I.status)===403?D="æ— æƒé™è®¿é—® API Key åˆ—è¡¨":((z=w.response)==null?void 0:z.status)>=500?D="æœåŠ¡å™¨é”™è¯¯ï¼Œè¯·ç¨åé‡è¯•":($=w.message)!=null&&$.includes("timeout")&&(D="è¯·æ±‚è¶…æ—¶ï¼Œè¯·ç¨åé‡è¯•"),u(D,"error"),w}},F=async(o=!1)=>{if(!o&&!W())return console.log("[fetchApiKeys] ä½¿ç”¨ç¼“å­˜çš„ API Key æ•°æ®"),{success:!0,data:v.value,fromCache:!0};if(N.value){for(console.log("[fetchApiKeys] æ­£åœ¨åŠ è½½ä¸­ï¼Œç­‰å¾…å®Œæˆ...");N.value;)await new Promise(l=>setTimeout(l,100));return{success:!0,data:v.value,waited:!0}}N.value=!0;try{const l=await s(0);return l.success&&l.data&&(console.log("[fetchApiKeys] è®¾ç½®API Keyæ•°æ®åˆ°å“åº”å¼çŠ¶æ€:",l.data.length),(!v.value||v.value.length!==l.data.length)&&(console.log("[fetchApiKeys] é‡æ–°è®¾ç½®apiKeyList.value"),v.value=l.data)),l}finally{N.value=!1}},he=()=>{v.value=[],A.value=null,ae.value=null,ge.value=0,console.log("[clearApiKeyCache] API Key ç¼“å­˜å·²æ¸…é™¤")},X=async()=>(console.log("[retryFetchApiKeys] æ‰‹åŠ¨é‡è¯•è·å– API Keys"),A.value=null,F(!0)),we=async(o={})=>{console.log("ğŸš€ fetchLogsæ–¹æ³•è¢«è°ƒç”¨!",{params:o,filtersValue:R.value}),B.value=!0;try{const l={...R.value,...o},i={...l,keyId:l.apiKeyId,status:l.statusCode,startDate:l.startDate,endDate:l.endDate,method:l.method,search:l.search,page:l.page,limit:l.limit,sortBy:l.sortBy,sortOrder:l.sortOrder,apiKeyId:void 0,statusCode:void 0};Object.keys(i).forEach(T=>{(i[T]===void 0||i[T]==="")&&delete i[T]}),console.log("ğŸ” fetchLogså‘é€çš„å‚æ•°:",i),console.log("ğŸ” åŸå§‹filtersçŠ¶æ€:",R.value);const n=await _.get("/admin/request-logs",{params:i});return n&&n.success&&n.data&&(x.value=n.data.logs||[],d.value={page:n.data.page||1,limit:n.data.limit||50,total:n.data.total||0,totalPages:n.data.totalPages||0}),n}catch(l){throw console.error("Failed to fetch request logs:",l),u("è·å–è¯·æ±‚æ—¥å¿—å¤±è´¥","error"),l}finally{B.value=!1}},qe=async(o,l={})=>{B.value=!0;try{const i={...l},n=await _.get(`/admin/request-logs/${o}`,{params:i});return n&&n.success&&n.data&&(x.value=n.data.logs||[],d.value={page:n.data.page||1,limit:n.data.limit||50,total:n.data.total||0,totalPages:n.data.totalPages||0}),n}catch(i){throw console.error("Failed to fetch API key logs:",i),u("è·å–API Keyæ—¥å¿—å¤±è´¥","error"),i}finally{B.value=!1}},Ge=async o=>{var l,i;if(!o)return console.warn("fetchLogDetails: logIdä¸ºç©º"),null;try{console.log(`[fetchLogDetails] è·å–æ—¥å¿—è¯¦æƒ…: ${o}`);const n=await _.get(`/admin/request-logs/${o}/details`);return n&&n.success&&n.data?(console.log("[fetchLogDetails] æˆåŠŸè·å–æ—¥å¿—è¯¦æƒ…:",n.data),n.data):(console.warn("[fetchLogDetails] APIè¿”å›å¤±è´¥:",n),null)}catch(n){throw console.error("Failed to fetch log details:",n),((l=n.response)==null?void 0:l.status)===404?u("æ—¥å¿—è®°å½•ä¸å­˜åœ¨æˆ–å·²è¢«åˆ é™¤","error"):((i=n.response)==null?void 0:i.status)===403?u("æ— æƒé™æŸ¥çœ‹æ­¤æ—¥å¿—è¯¦æƒ…","error"):u("è·å–æ—¥å¿—è¯¦æƒ…å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•","error"),n}},ue=async(o="24h")=>{try{const l={};if(o==="24h"){const n=new Date,T=new Date(n.getTime()-24*60*60*1e3);l.startDate=T.toISOString(),l.endDate=n.toISOString()}else if(o==="7d"){const n=new Date,T=new Date(n.getTime()-7*24*60*60*1e3);l.startDate=T.toISOString(),l.endDate=n.toISOString()}const i=await _.get("/admin/request-logs/stats",{params:l});if(i&&i.success&&i.data){const n=i.data,T={totalRequests:n.totalRequests||0,errorRate:n.totalRequests>0?Object.entries(n.statusCodes||{}).filter(([U])=>U.startsWith("4")||U.startsWith("5")).reduce((U,[,O])=>U+O,0)/n.totalRequests*100:0,averageResponseTime:n.totalRequests>0?(n.totalResponseTime||0)/n.totalRequests:0,totalTokens:n.totalTokens||0,statusCodes:n.statusCodes||{},models:n.models||{},topApiKeys:Object.entries(n.apiKeys||{}).map(([U,O])=>({keyId:U,count:O})).sort((U,O)=>O.count-U.count).slice(0,5)};return P.value=T,{success:!0,data:T}}else{const n={totalRequests:0,errorRate:0,averageResponseTime:0,totalTokens:0,statusCodes:{},models:{},topApiKeys:[]};return P.value=n,{success:!0,data:n}}}catch(l){throw console.error("Failed to fetch log stats:",l),u("è·å–ç»Ÿè®¡ä¿¡æ¯å¤±è´¥","error"),l}},ce=async o=>{try{const l=await _.delete(`/admin/request-logs/${o}`);return l&&l.success&&(u("æ—¥å¿—åˆ é™¤æˆåŠŸ","success"),await we()),l}catch(l){throw console.error("Failed to delete logs:",l),u("åˆ é™¤æ—¥å¿—å¤±è´¥","error"),l}},Qe=async(o="json",l={})=>{var i,n;Q.value=!0;try{const T={...R.value,...l},U={format:o,...T,keyId:T.apiKeyId,status:T.statusCode,search:void 0,apiKeyId:void 0,statusCode:void 0};Object.keys(U).forEach(D=>{(U[D]===void 0||U[D]==="")&&delete U[D]}),u(`æ­£åœ¨å¯¼å‡ºæ—¥å¿—ä¸º ${o.toUpperCase()} æ ¼å¼...`,"info");const O=await _.get("/admin/request-logs/export",{params:U,responseType:"blob"});let K=`request-logs-${new Date().getTime()}.${o}`;const I=(n=(i=O.headers)==null?void 0:i.get)==null?void 0:n.call(i,"Content-Disposition");if(I){const D=I.match(/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/);D&&D[1]&&(K=D[1].replace(/['"]/g,""))}const z=O.data,$=window.URL.createObjectURL(z),w=document.createElement("a");return w.href=$,w.download=K,w.style.display="none",document.body.appendChild(w),w.click(),document.body.removeChild(w),window.URL.revokeObjectURL($),u(`æ—¥å¿—å·²æˆåŠŸå¯¼å‡ºä¸º ${o.toUpperCase()} æ ¼å¼`,"success"),{success:!0,filename:K}}catch(T){console.error("Failed to export logs:",T);const U=T.message||"å¯¼å‡ºæ—¥å¿—å¤±è´¥";throw u(U,"error"),T}finally{Q.value=!1}},Pe=async()=>{var o,l,i,n,T,U,O;Y.value=!0;try{const K=await _.get("/admin/request-logs/config");if(K&&K.success&&K.data){const I=K.data;let z=30;typeof I.retentionDays=="number"?z=I.retentionDays:typeof I.retentionDays=="object"&&((o=I.retentionDays)!=null&&o.days)&&(z=I.retentionDays.days);const $={enabled:I.enabled||!1,mode:I.level==="debug"?"detailed":"performance",level:I.level||"info",retentionDays:z,maxFileSize:I.maxFileSize||10,maxFiles:I.maxFiles||10,includeHeaders:I.includeHeaders!==void 0?I.includeHeaders:!0,includeBody:I.includeBody!==void 0?I.includeBody:!0,includeResponse:I.includeResponse!==void 0?I.includeResponse:!0,includeErrors:I.includeErrors!==void 0?I.includeErrors:!0,filterSensitiveData:I.filterSensitiveData!==void 0?I.filterSensitiveData:!0,updatedAt:I.updatedAt,sampling:{successRate:((l=h.value.sampling)==null?void 0:l.successRate)||.1,errorRate:((i=h.value.sampling)==null?void 0:i.errorRate)||1,slowRequestThreshold:((n=h.value.sampling)==null?void 0:n.slowRequestThreshold)||5e3},retention:{days:z,maxEntries:((T=h.value.retention)==null?void 0:T.maxEntries)||1e5},async:{batchSize:((U=h.value.async)==null?void 0:U.batchSize)||50,flushInterval:((O=h.value.async)==null?void 0:O.flushInterval)||2e3}};h.value=$}return K}catch(K){throw u("åŠ è½½é…ç½®å¤±è´¥","error"),K}finally{Y.value=!1}},Ve=async o=>{M.value=!0;try{const l=await _.put("/admin/request-logs/config",o);return l&&l.success&&(h.value={...h.value,...l.data},u("é…ç½®ä¿å­˜æˆåŠŸ","success")),l}catch(l){throw console.error("Failed to save request logging config:",l),u("ä¿å­˜é…ç½®å¤±è´¥","error"),l}finally{M.value=!1}},Ye=async()=>await Ve({enabled:!1,mode:"performance",sampling:{successRate:.1,errorRate:1,slowRequestThreshold:5e3},retention:{days:30,maxEntries:1e5},async:{batchSize:50,flushInterval:2e3}}),Je=o=>{R.value={...R.value,...o}},Xe=()=>{R.value={apiKeyId:"",startDate:"",endDate:"",statusCode:"",method:"",search:"",page:1,limit:50,sortBy:"timestamp",sortOrder:"desc"}},Ze=async()=>{await we(),await ue()},et=o=>({...o,timestamp:new Date(o.timestamp).toLocaleString("zh-CN"),duration:o.responseTime?`${o.responseTime}ms`:"N/A",statusClass:Ke(o.statusCode),methodClass:fe(o.method)}),Ke=o=>{const l=parseInt(o);return l?l>=200&&l<300?"text-green-600":l>=300&&l<400?"text-yellow-600":l>=400&&l<500?"text-orange-600":l>=500?"text-red-600":"text-gray-500":"text-gray-500"},fe=o=>({GET:"text-blue-600",POST:"text-green-600",PUT:"text-yellow-600",DELETE:"text-red-600",PATCH:"text-purple-600"})[o]||"text-gray-600";return{logs:x,loading:B,exporting:Q,stats:P,filters:R,pagination:d,config:h,configLoading:Y,configSaving:M,apiKeyList:v,apiKeyLoading:N,apiKeyError:A,apiKeyLoadTime:ae,apiKeyRetryCount:ge,filteredLogs:_e,hasFilters:V,apiKeyMap:de,fetchApiKeys:F,clearApiKeyCache:he,retryFetchApiKeys:X,shouldRefreshApiKeys:W,fetchLogs:we,fetchLogsByApiKey:qe,fetchLogDetails:Ge,fetchStats:ue,deleteLogsByApiKey:ce,exportLogs:Qe,refreshLogs:Ze,loadConfig:Pe,saveConfig:Ve,resetConfig:Ye,updateFilters:Je,clearFilters:Xe,formatLogEntry:et,getStatusClass:Ke,getMethodClass:fe,formatBytes:o=>{if(o===0)return"0 B";const l=1024,i=["B","KB","MB","GB"],n=Math.floor(Math.log(o)/Math.log(l));return parseFloat((o/Math.pow(l,n)).toFixed(2))+" "+i[n]},formatDuration:o=>o<1e3?`${o}ms`:o<6e4?`${(o/1e3).toFixed(1)}s`:`${(o/6e4).toFixed(1)}m`}}),Pt={class:"settings-container"},Vt={class:"card p-4 sm:p-6"},Kt={class:"mb-6"},Mt={class:"flex space-x-8"},$t={key:0,class:"py-12 text-center"},Lt={key:1},Nt={class:"table-container hidden sm:block"},Wt={class:"min-w-full"},zt={class:"divide-y divide-gray-200/50 dark:divide-gray-600/50"},Ht={class:"table-row"},Gt={class:"px-6 py-4"},Qt={class:"table-row"},Yt={class:"px-6 py-4"},Jt={class:"space-y-3"},Xt={key:0,class:"inline-flex items-center gap-3 rounded-lg bg-gray-50 p-3 dark:bg-gray-700"},Zt=["src"],ea={class:"table-row"},ta={class:"px-6 py-4"},aa={class:"flex items-center"},ra={class:"inline-flex cursor-pointer items-center"},sa={class:"ml-3 text-sm font-medium text-gray-900 dark:text-gray-300"},la={class:"px-6 py-6",colspan:"2"},oa={class:"flex items-center justify-between"},na={class:"flex gap-3"},ia=["disabled"],da={key:0,class:"loading-spinner mr-2"},ua={key:1,class:"fas fa-save mr-2"},ga=["disabled"],ca={key:0,class:"text-sm text-gray-500 dark:text-gray-400"},fa={class:"space-y-4 sm:hidden"},pa={class:"glass-card p-4"},ya={class:"glass-card p-4"},ba={class:"space-y-3"},ma={key:0,class:"inline-flex items-center gap-3 rounded-lg bg-gray-50 p-3 dark:bg-gray-700"},xa=["src"],va={class:"glass-card p-4"},ka={class:"space-y-2"},ha={class:"inline-flex cursor-pointer items-center"},wa={class:"ml-3 text-sm font-medium text-gray-900 dark:text-gray-300"},Ta={class:"glass-card p-4"},Ca={class:"flex flex-col gap-3"},Aa=["disabled"],Sa={key:0,class:"loading-spinner mr-2"},Da={key:1,class:"fas fa-save mr-2"},Ia=["disabled"],_a={key:0,class:"text-center text-sm text-gray-500 dark:text-gray-400"},Ua={class:"mb-6 rounded-lg bg-white/80 p-6 shadow-lg backdrop-blur-sm dark:bg-gray-800/80"},Ra={class:"mb-4 flex items-center justify-between"},Ea={class:"text-xs text-gray-500 dark:text-gray-400"},Fa={class:"space-y-4"},Ba={class:"rounded-lg border border-blue-200 bg-blue-50 p-4 dark:border-blue-700 dark:bg-blue-900/30"},Oa={class:"flex items-start gap-2"},ja={class:"text-sm text-blue-700 dark:text-blue-300"},qa={class:"mb-1 font-medium"},Pa={key:0,class:"space-y-2"},Va={key:1,class:"space-y-2"},Ka={class:"mb-6 rounded-lg bg-white/80 p-6 shadow-lg backdrop-blur-sm dark:bg-gray-800/80"},Ma={class:"space-y-4"},$a={class:"flex items-center justify-between"},La={class:"relative inline-flex cursor-pointer items-center"},Na={class:"flex items-center justify-between"},Wa={class:"relative inline-flex cursor-pointer items-center"},za={class:"mb-6 rounded-lg bg-white/80 p-6 shadow-lg backdrop-blur-sm dark:bg-gray-800/80"},Ha={class:"grid grid-cols-1 gap-4 md:grid-cols-3"},Ga={class:"rounded-lg border border-gray-200 p-4 dark:border-gray-700"},Qa={class:"flex items-center justify-between"},Ya={class:"text-2xl font-bold text-blue-600 dark:text-blue-400"},Ja={class:"rounded-lg border border-gray-200 p-4 dark:border-gray-700"},Xa={class:"flex items-center justify-between"},Za={class:"text-2xl font-bold text-green-600 dark:text-green-400"},er={class:"rounded-lg border border-gray-200 p-4 dark:border-gray-700"},tr={class:"flex items-center justify-between"},ar={class:"text-2xl font-bold text-purple-600 dark:text-purple-400"},rr={class:"flex items-center justify-between"},sr={class:"flex gap-3"},lr=["disabled"],or={key:0,class:"loading-spinner mr-2"},nr={key:1,class:"fas fa-save mr-2"},ir=["disabled"],dr={key:0,class:"text-sm text-gray-500 dark:text-gray-400"},ur={class:"mb-6 rounded-lg bg-white/80 p-6 shadow-lg backdrop-blur-sm dark:bg-gray-800/80"},gr={class:"flex items-center justify-between"},cr={class:"relative inline-flex cursor-pointer items-center"},fr={class:"mb-6 rounded-lg bg-white/80 p-6 shadow-lg backdrop-blur-sm dark:bg-gray-800/80"},pr={class:"space-y-3"},yr={class:"font-medium text-gray-700 dark:text-gray-300"},br={class:"ml-2 text-sm text-gray-500 dark:text-gray-400"},mr={class:"relative inline-flex cursor-pointer items-center"},xr=["onUpdate:modelValue"],vr={class:"mb-6 rounded-lg bg-white/80 p-6 shadow-lg backdrop-blur-sm dark:bg-gray-800/80"},kr={class:"mb-4 flex items-center justify-between"},hr={key:0,class:"space-y-4"},wr={class:"flex items-start justify-between"},Tr={class:"flex-1"},Cr={class:"flex items-center"},Ar={class:"font-semibold text-gray-800 dark:text-gray-200"},Sr={class:"text-sm text-gray-500 dark:text-gray-400"},Dr={class:"mt-3 space-y-1 text-sm"},Ir={key:0,class:"flex items-center text-gray-600 dark:text-gray-400"},_r={class:"truncate"},Ur={key:1,class:"flex items-center text-gray-600 dark:text-gray-400"},Rr={class:"truncate"},Er={key:2,class:"flex items-center text-gray-600 dark:text-gray-400"},Fr={class:"truncate"},Br={key:3,class:"flex items-center text-gray-600 dark:text-gray-400"},Or={class:"truncate"},jr={key:4,class:"flex items-center text-gray-600 dark:text-gray-400"},qr={class:"truncate"},Pr={key:5,class:"flex items-center text-gray-600 dark:text-gray-400"},Vr={class:"truncate"},Kr={key:6,class:"flex items-center text-gray-600 dark:text-gray-400"},Mr={class:"ml-4 flex items-center space-x-2"},$r={class:"relative inline-flex cursor-pointer items-center"},Lr=["checked","onChange"],Nr=["onClick"],Wr=["onClick"],zr=["onClick"],Hr={key:1,class:"py-8 text-center text-gray-500 dark:text-gray-400"},Gr={class:"rounded-lg bg-white/80 p-6 shadow-lg backdrop-blur-sm dark:bg-gray-800/80"},Qr={class:"grid grid-cols-1 gap-4 md:grid-cols-3"},Yr={class:"overview-section mb-6 rounded-lg bg-white p-6 dark:bg-gray-800"},Jr={class:"grid grid-cols-2 gap-4 md:grid-cols-4"},Xr={class:"stat-card"},Zr={class:"text-2xl font-bold text-blue-600"},es={class:"stat-card"},ts={class:"text-2xl font-bold text-green-600"},as={class:"stat-card"},rs={class:"text-2xl font-bold text-purple-600"},ss={class:"stat-card"},ls={class:"text-2xl font-bold text-orange-600"},os={class:"mt-4 border-t border-gray-200 pt-4 dark:border-gray-700"},ns={class:"flex items-center justify-between"},is={class:"flex items-center space-x-4"},ds={class:"flex items-center"},us={class:"text-sm text-gray-600 dark:text-gray-400"},gs={key:0,class:"text-sm text-gray-500"},cs={key:0,class:"mb-6"},fs={class:"grid grid-cols-1 gap-6 md:grid-cols-3"},ps={class:"feature-card"},ys={class:"mb-4 space-y-3"},bs={class:"flex items-center"},ms=["disabled"],xs={key:0},vs={key:1},ks={class:"feature-card"},hs={class:"mb-4 space-y-3"},ws=["disabled"],Ts={key:0},Cs={key:1},As={class:"feature-card"},Ss={class:"mb-4 space-y-3"},Ds={class:"flex items-center"},Is=["disabled"],_s={key:0},Us={key:1},Rs={class:"mb-6 rounded-lg bg-white/80 p-6 shadow-lg backdrop-blur-sm dark:bg-gray-800/80"},Es={class:"flex items-center justify-between"},Fs={class:"relative inline-flex cursor-pointer items-center"},Bs={class:"mb-6 rounded-lg bg-white/80 p-6 shadow-lg backdrop-blur-sm dark:bg-gray-800/80"},Os={class:"grid grid-cols-1 gap-6 md:grid-cols-2"},js={class:"mb-6 rounded-lg bg-white/80 p-6 shadow-lg backdrop-blur-sm dark:bg-gray-800/80"},qs={class:"space-y-4"},Ps={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},Vs={class:"flex items-center justify-between"},Ks={class:"relative inline-flex cursor-pointer items-center"},Ms={class:"flex items-center justify-between"},$s={class:"relative inline-flex cursor-pointer items-center"},Ls={class:"flex items-center justify-between"},Ns={class:"relative inline-flex cursor-pointer items-center"},Ws={class:"flex items-center justify-between"},zs={class:"relative inline-flex cursor-pointer items-center"},Hs={class:"mt-6 space-y-3"},Gs={class:"rounded-lg border border-gray-200 bg-gray-50 p-4 dark:border-gray-700 dark:bg-gray-800"},Qs={class:"flex items-center justify-between"},Ys={class:"flex cursor-pointer items-center"},Js={class:"mb-6 rounded-lg bg-white/80 p-6 shadow-lg backdrop-blur-sm dark:bg-gray-800/80"},Xs={class:"grid grid-cols-1 gap-4 md:grid-cols-4"},Zs={class:"rounded-lg border border-gray-200 p-4 dark:border-gray-700"},el={class:"flex items-center justify-between"},tl={class:"text-2xl font-bold text-blue-600 dark:text-blue-400"},al={class:"rounded-lg border border-gray-200 p-4 dark:border-gray-700"},rl={class:"flex items-center justify-between"},sl={class:"text-2xl font-bold text-green-600 dark:text-green-400"},ll={class:"rounded-lg border border-gray-200 p-4 dark:border-gray-700"},ol={class:"flex items-center justify-between"},nl={class:"text-2xl font-bold text-orange-600 dark:text-orange-400"},il={class:"rounded-lg border border-gray-200 p-4 dark:border-gray-700"},dl={class:"flex items-center justify-between"},ul={class:"text-2xl font-bold text-red-600 dark:text-red-400"},gl={class:"flex items-center justify-between"},cl={class:"flex gap-3"},fl=["disabled"],pl={key:0,class:"loading-spinner mr-2"},yl={key:1,class:"fas fa-save mr-2"},bl=["disabled"],ml={key:0,class:"loading-spinner mr-2"},xl={key:1,class:"fas fa-broom mr-2"},vl={key:0,class:"text-sm text-gray-500 dark:text-gray-400"},kl={class:"dark:to-gray-750 relative border-b border-gray-200 bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-5 dark:border-gray-700 dark:from-gray-800"},hl={class:"flex items-center justify-between"},wl={class:"flex items-center space-x-3"},Tl={class:"text-xl font-semibold text-gray-900 dark:text-white"},Cl={class:"mt-0.5 text-sm text-gray-600 dark:text-gray-400"},Al={class:"p-6"},Sl={class:"space-y-5"},Dl={class:"relative"},Il=["disabled"],_l={key:0,class:"mt-1 text-xs text-amber-600 dark:text-amber-400"},Ul={key:0},Rl={class:"relative"},El={key:0,class:"absolute inset-y-0 right-0 flex items-center pr-3"},Fl={key:1,class:"absolute inset-y-0 right-0 flex items-center pr-3"},Bl={key:0,class:"mt-2 flex items-start rounded-lg bg-blue-50 p-3 dark:bg-blue-900/20"},Ol={class:"text-sm text-blue-700 dark:text-blue-300"},jl={key:1,class:"space-y-5"},ql={key:2,class:"space-y-5"},Pl={key:3,class:"space-y-5"},Vl={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},Kl={key:4,class:"rounded-xl border border-gray-200 bg-gray-50 p-4 dark:border-gray-700 dark:bg-gray-900/50"},Ml={class:"space-y-4"},$l={class:"flex items-center justify-between"},Ll={class:"flex cursor-pointer items-center",for:"enableSign"},Nl={key:0,class:"rounded-full bg-green-100 px-2 py-1 text-xs font-medium text-green-700 dark:bg-green-900/50 dark:text-green-400"},Wl={key:0},zl={class:"border-t border-gray-200 bg-gray-50 px-6 py-4 dark:border-gray-700 dark:bg-gray-900/50"},Hl={class:"flex items-center justify-between"},Gl={class:"flex space-x-3"},Ql=["disabled"],Yl=["disabled"],Jl={key:1,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"},Xl={class:"mx-4 w-full max-w-md rounded-lg bg-white p-6 dark:bg-gray-800"},Zl={class:"mb-4 flex items-center justify-between"},eo={key:0},to={key:0,class:"mb-4 text-center"},ao=["src"],ro={key:1,class:"mb-4"},so={class:"rounded bg-gray-100 px-2 py-1 text-sm dark:bg-gray-700"},lo={key:1},oo={class:"flex space-x-3"},no=["disabled"],io={key:2},uo={class:"mb-4 rounded-md bg-gray-100 p-4 dark:bg-gray-700"},go={class:"grid grid-cols-2 gap-2 font-mono text-sm"},co={key:2,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"},fo={class:"mx-4 w-full max-w-md rounded-lg bg-white p-6 dark:bg-gray-800"},po={class:"mb-4 flex items-center justify-between"},yo={class:"space-y-4"},bo={class:"flex space-x-3 pt-4"},mo=["disabled"],xo={key:0},vo={key:1},ko=Object.assign({name:"SettingsView"},{__name:"SettingsView",setup(x){const B=Ot(),{loading:Q,saving:P,oemSettings:v}=ut(B),N=qt(),{config:A,configSaving:ae}=ut(N),ge=m(),R=m("branding"),d=m(!0),h=m(new AbortController),Y=je({get(){return!v.value.showAdminButton},set(a){v.value.showAdminButton=!a}}),M=m(!1),J=m(!1),ne=m(!1),ie=m(!1),_e={accountAnomaly:!0,quotaWarning:!0,systemError:!0,securityAlert:!0,rateLimitRecovery:!0},V=m({enabled:!1,platforms:[],notificationTypes:{..._e},retrySettings:{maxRetries:3,retryDelay:1e3,timeout:1e4}}),de=m(!1),W=m(null),s=m({type:"wechat_work",name:"",url:"",enableSign:!1,secret:"",botToken:"",chatId:"",apiBaseUrl:"",proxyUrl:"",deviceKey:"",serverUrl:"",level:"",sound:"",group:"",host:"",port:null,secure:!1,user:"",pass:"",from:"",to:"",timeout:null,ignoreTLS:!1}),F=m({globalDefaultStrategy:"least_recent",globalDefaultWeight:5,globalDefaultOrder:1,enableAccountOverride:!0,enableGroupOverride:!0,updatedAt:null}),he=m({globalStrategyCount:0,customStrategyCount:0,groupStrategyCount:0}),X=m(!1),we=gt(R,async a=>{d.value&&(a==="webhook"?await ue():a==="scheduling"?await z():a==="data-management"?await We():a==="request-logging"&&await it())}),qe=gt(()=>s.value.type,a=>{M.value=!1,J.value=!1,W.value||(a==="bark"?(s.value.url="",s.value.enableSign=!1,s.value.secret="",s.value.botToken="",s.value.chatId="",s.value.apiBaseUrl="",s.value.proxyUrl="",s.value.host="",s.value.port=null,s.value.secure=!1,s.value.user="",s.value.pass="",s.value.from="",s.value.to="",s.value.timeout=null,s.value.ignoreTLS=!1):a==="smtp"?(s.value.url="",s.value.enableSign=!1,s.value.secret="",s.value.deviceKey="",s.value.serverUrl="",s.value.level="",s.value.sound="",s.value.group="",s.value.botToken="",s.value.chatId="",s.value.apiBaseUrl="",s.value.proxyUrl=""):a==="telegram"?(s.value.url="",s.value.enableSign=!1,s.value.secret="",s.value.deviceKey="",s.value.serverUrl="",s.value.level="",s.value.sound="",s.value.group="",s.value.host="",s.value.port=null,s.value.secure=!1,s.value.user="",s.value.pass="",s.value.from="",s.value.to="",s.value.timeout=null,s.value.ignoreTLS=!1,s.value.botToken="",s.value.chatId="",s.value.apiBaseUrl="",s.value.proxyUrl=""):(s.value.deviceKey="",s.value.serverUrl="",s.value.level="",s.value.sound="",s.value.group="",s.value.host="",s.value.port=null,s.value.secure=!1,s.value.user="",s.value.pass="",s.value.from="",s.value.to="",s.value.timeout=null,s.value.ignoreTLS=!1,s.value.botToken="",s.value.chatId="",s.value.apiBaseUrl="",s.value.proxyUrl=""))}),Ge=je(()=>s.value.type==="bark"?!!s.value.deviceKey:s.value.type==="telegram"?!!(s.value.botToken&&s.value.chatId):s.value.type==="smtp"?!!(s.value.host&&s.value.user&&s.value.pass&&s.value.to):!!s.value.url&&!M.value);_t(async()=>{try{await B.loadOemSettings(),R.value==="webhook"?await ue():R.value==="scheduling"?await z():R.value==="data-management"?await We():R.value==="request-logging"&&await it()}catch{u("åŠ è½½è®¾ç½®å¤±è´¥","error")}}),Ut(()=>{d.value=!1,h.value&&h.value.abort(),we&&we(),qe&&qe(),de.value&&(de.value=!1,W.value=null)});const ue=async()=>{if(d.value)try{const a=await _.get("/admin/webhook/config",{signal:h.value.signal});if(a.success&&d.value){const e=a.config||{};V.value={...e,notificationTypes:{..._e,...e.notificationTypes||{}}}}}catch(a){if(a.name==="AbortError"||!d.value)return;u("è·å–webhooké…ç½®å¤±è´¥","error"),console.error(a)}},ce=async()=>{if(d.value)try{const a={...V.value,notificationTypes:{..._e,...V.value.notificationTypes||{}}};(await _.post("/admin/webhook/config",a,{signal:h.value.signal})).success&&d.value&&(V.value=a,u("é…ç½®å·²ä¿å­˜","success"))}catch(a){if(a.name==="AbortError"||!d.value)return;u("ä¿å­˜é…ç½®å¤±è´¥","error"),console.error(a)}},Qe=()=>{if(["bark","smtp","telegram"].includes(s.value.type)){M.value=!1,J.value=!1;return}const a=s.value.url;if(!a){M.value=!1,J.value=!1;return}try{new URL(a),a.startsWith("http://")||a.startsWith("https://")?(M.value=!1,J.value=!0):(M.value=!0,J.value=!1)}catch{M.value=!0,J.value=!1}},Pe=()=>{if(s.value.type==="bark"){if(!s.value.deviceKey)return u("è¯·è¾“å…¥Barkè®¾å¤‡å¯†é’¥","error"),!1}else if(s.value.type==="telegram"){if(!s.value.botToken)return u("è¯·è¾“å…¥ Telegram æœºå™¨äºº Token","error"),!1;if(!s.value.chatId)return u("è¯·è¾“å…¥ Telegram Chat ID","error"),!1;if(s.value.apiBaseUrl)try{const a=new URL(s.value.apiBaseUrl);if(!["http:","https:"].includes(a.protocol))return u("Telegram API åŸºç¡€åœ°å€ä»…æ”¯æŒ http æˆ– https","error"),!1}catch{return u("è¯·è¾“å…¥æœ‰æ•ˆçš„ Telegram API åŸºç¡€åœ°å€","error"),!1}if(s.value.proxyUrl)try{const a=new URL(s.value.proxyUrl);if(!["http:","https:","socks4:","socks4a:","socks5:"].includes(a.protocol))return u("Telegram ä»£ç†ä»…æ”¯æŒ http/https/socks åè®®","error"),!1}catch{return u("è¯·è¾“å…¥æœ‰æ•ˆçš„ Telegram ä»£ç†åœ°å€","error"),!1}}else if(s.value.type==="smtp"){const a=[{field:"host",message:"SMTPæœåŠ¡å™¨"},{field:"user",message:"ç”¨æˆ·å"},{field:"pass",message:"å¯†ç "},{field:"to",message:"æ”¶ä»¶äººé‚®ç®±"}];for(const{field:e,message:f}of a)if(!s.value[e])return u(`è¯·è¾“å…¥${f}`,"error"),!1}else{if(!s.value.url)return u("è¯·è¾“å…¥Webhook URL","error"),!1;if(M.value)return u("è¯·è¾“å…¥æœ‰æ•ˆçš„Webhook URL","error"),!1}return!0},Ve=async()=>{if(d.value&&Pe()){ie.value=!0;try{let a;W.value?a=await _.put(`/admin/webhook/platforms/${W.value.id}`,s.value,{signal:h.value.signal}):a=await _.post("/admin/webhook/platforms",s.value,{signal:h.value.signal}),a.success&&d.value&&(u(W.value?"å¹³å°å·²æ›´æ–°":"å¹³å°å·²æ·»åŠ ","success"),await ue(),fe())}catch(a){if(a.name==="AbortError"||!d.value)return;u(a.message||"æ“ä½œå¤±è´¥","error"),console.error(a)}finally{d.value&&(ie.value=!1)}}},Ye=a=>{W.value=a,s.value={type:a.type||"wechat_work",name:a.name||"",url:a.url||"",enableSign:a.enableSign||!1,secret:a.secret||"",botToken:a.botToken||"",chatId:a.chatId||"",apiBaseUrl:a.apiBaseUrl||"",proxyUrl:a.proxyUrl||"",deviceKey:a.deviceKey||"",serverUrl:a.serverUrl||"",level:a.level||"",sound:a.sound||"",group:a.group||"",host:a.host||"",port:a.port??null,secure:a.secure||!1,user:a.user||"",pass:a.pass||"",from:a.from||"",to:Array.isArray(a.to)?a.to.join(", "):a.to||"",timeout:a.timeout??null,ignoreTLS:a.ignoreTLS||!1},de.value=!0},Je=async a=>{if(d.value&&confirm("ç¡®å®šè¦åˆ é™¤è¿™ä¸ªå¹³å°å—ï¼Ÿ"))try{(await _.delete(`/admin/webhook/platforms/${a}`,{signal:h.value.signal})).success&&d.value&&(u("å¹³å°å·²åˆ é™¤","success"),await ue())}catch(e){if(e.name==="AbortError"||!d.value)return;u("åˆ é™¤å¤±è´¥","error"),console.error(e)}},Xe=async a=>{if(d.value)try{const e=await _.post(`/admin/webhook/platforms/${a}/toggle`,{},{signal:h.value.signal});e.success&&d.value&&(u(e.message,"success"),await ue())}catch(e){if(e.name==="AbortError"||!d.value)return;u("æ“ä½œå¤±è´¥","error"),console.error(e)}},Ze=async a=>{if(d.value)try{const e={type:a.type,secret:a.secret,enableSign:a.enableSign};a.type==="bark"?(e.deviceKey=a.deviceKey,e.serverUrl=a.serverUrl,e.level=a.level,e.sound=a.sound,e.group=a.group):a.type==="smtp"?(e.host=a.host,e.port=a.port,e.secure=a.secure,e.user=a.user,e.pass=a.pass,e.from=a.from,e.to=a.to,e.ignoreTLS=a.ignoreTLS):a.type==="telegram"?(e.botToken=a.botToken,e.chatId=a.chatId,e.apiBaseUrl=a.apiBaseUrl,e.proxyUrl=a.proxyUrl):e.url=a.url,(await _.post("/admin/webhook/test",e,{signal:h.value.signal})).success&&d.value&&u("æµ‹è¯•æˆåŠŸ","success")}catch(e){if(e.name==="AbortError"||!d.value)return;u(e.error||e.message||"æµ‹è¯•å¤±è´¥","error"),console.error(e)}},et=async()=>{if(d.value&&Pe()){ne.value=!0;try{(await _.post("/admin/webhook/test",s.value,{signal:h.value.signal})).success&&d.value&&u("æµ‹è¯•æˆåŠŸ","success")}catch(a){if(a.name==="AbortError"||!d.value)return;u(a.error||a.message||"æµ‹è¯•å¤±è´¥","error"),console.error(a)}finally{d.value&&(ne.value=!1)}}},Ke=async()=>{var a,e,f,r;if(d.value)try{(await _.post("/admin/webhook/test-notification",{},{signal:h.value.signal})).success&&d.value&&u("æµ‹è¯•é€šçŸ¥å·²å‘é€","success")}catch(C){if(C.name==="AbortError"||!d.value)return;const oe=((e=(a=C==null?void 0:C.response)==null?void 0:a.data)==null?void 0:e.message)||((r=(f=C==null?void 0:C.response)==null?void 0:f.data)==null?void 0:r.error)||(C==null?void 0:C.message)||"å‘é€å¤±è´¥";u(oe,"error"),console.error(C)}},fe=()=>{d.value&&(de.value=!1,setTimeout(()=>{d.value&&(W.value=null,s.value={type:"wechat_work",name:"",url:"",enableSign:!1,secret:"",botToken:"",chatId:"",apiBaseUrl:"",proxyUrl:"",deviceKey:"",serverUrl:"",level:"",sound:"",group:"",host:"",port:null,secure:!1,user:"",pass:"",from:"",to:"",timeout:null,ignoreTLS:!1},M.value=!1,J.value=!1,ne.value=!1,ie.value=!1)},0))},tt=a=>({wechat_work:"ä¼ä¸šå¾®ä¿¡",dingtalk:"é’‰é’‰",feishu:"é£ä¹¦",slack:"Slack",discord:"Discord",telegram:"Telegram",bark:"Bark",smtp:"é‚®ä»¶é€šçŸ¥",custom:"è‡ªå®šä¹‰"})[a]||a,st=a=>({wechat_work:"fab fa-weixin text-green-600",dingtalk:"fas fa-comment-dots text-blue-500",feishu:"fas fa-dove text-blue-600",slack:"fab fa-slack text-purple-600",discord:"fab fa-discord text-indigo-600",telegram:"fab fa-telegram-plane text-sky-500",bark:"fas fa-bell text-orange-500",smtp:"fas fa-envelope text-blue-600",custom:"fas fa-webhook text-gray-600"})[a]||"fas fa-bell",o=a=>({wechat_work:"è¯·åœ¨ä¼ä¸šå¾®ä¿¡ç¾¤æœºå™¨äººè®¾ç½®ä¸­è·å–Webhookåœ°å€",dingtalk:"è¯·åœ¨é’‰é’‰ç¾¤æœºå™¨äººè®¾ç½®ä¸­è·å–Webhookåœ°å€",feishu:"è¯·åœ¨é£ä¹¦ç¾¤æœºå™¨äººè®¾ç½®ä¸­è·å–Webhookåœ°å€",slack:"è¯·åœ¨Slackåº”ç”¨çš„Incoming Webhooksä¸­è·å–åœ°å€",discord:"è¯·åœ¨DiscordæœåŠ¡å™¨çš„é›†æˆè®¾ç½®ä¸­åˆ›å»ºWebhook",telegram:"ä½¿ç”¨ @BotFather åˆ›å»ºæœºå™¨äººå¹¶å¤åˆ¶ Tokenï¼ŒChat ID å¯é€šè¿‡ @userinfobot æˆ–ç›¸å…³å·¥å…·è·å–",bark:"è¯·åœ¨Bark Appä¸­æŸ¥çœ‹æ‚¨çš„è®¾å¤‡å¯†é’¥",smtp:"è¯·é…ç½®SMTPæœåŠ¡å™¨ä¿¡æ¯ï¼Œæ”¯æŒGmailã€QQé‚®ç®±ç­‰",custom:"è¯·è¾“å…¥å®Œæ•´çš„Webhookæ¥æ”¶åœ°å€"})[a]||"",l=a=>a?a.length<=12?a:`${a.slice(0,6)}...${a.slice(-4)}`:"",i=a=>({accountAnomaly:"è´¦å·å¼‚å¸¸",quotaWarning:"é…é¢è­¦å‘Š",systemError:"ç³»ç»Ÿé”™è¯¯",securityAlert:"å®‰å…¨è­¦æŠ¥",rateLimitRecovery:"é™æµæ¢å¤",test:"æµ‹è¯•é€šçŸ¥"})[a]||a,n=a=>({accountAnomaly:"è´¦å·çŠ¶æ€å¼‚å¸¸ã€è®¤è¯å¤±è´¥ç­‰",quotaWarning:"APIè°ƒç”¨é…é¢ä¸è¶³è­¦å‘Š",systemError:"ç³»ç»Ÿè¿è¡Œé”™è¯¯å’Œæ•…éšœ",securityAlert:"å®‰å…¨ç›¸å…³çš„è­¦æŠ¥é€šçŸ¥",rateLimitRecovery:"é™æµçŠ¶æ€æ¢å¤æ—¶å‘é€æé†’",test:"ç”¨äºæµ‹è¯•Webhookè¿æ¥æ˜¯å¦æ­£å¸¸"})[a]||"",T=async()=>{try{const a={siteName:v.value.siteName,siteIcon:v.value.siteIcon,siteIconData:v.value.siteIconData,showAdminButton:v.value.showAdminButton},e=await B.saveOemSettings(a);e&&e.success?u("OEMè®¾ç½®ä¿å­˜æˆåŠŸ","success"):u((e==null?void 0:e.message)||"ä¿å­˜å¤±è´¥","error")}catch{u("ä¿å­˜OEMè®¾ç½®å¤±è´¥","error")}},U=async()=>{if(confirm(`ç¡®å®šè¦é‡ç½®ä¸ºé»˜è®¤è®¾ç½®å—ï¼Ÿ

è¿™å°†æ¸…é™¤æ‰€æœ‰è‡ªå®šä¹‰çš„ç½‘ç«™åç§°å’Œå›¾æ ‡è®¾ç½®ã€‚`))try{const a=await B.resetOemSettings();a&&a.success?u("å·²é‡ç½®ä¸ºé»˜è®¤è®¾ç½®","success"):u("é‡ç½®å¤±è´¥","error")}catch{u("é‡ç½®å¤±è´¥","error")}},O=async a=>{const e=a.target.files[0];if(!e)return;const f=B.validateIconFile(e);if(!f.isValid){f.errors.forEach(r=>u(r,"error"));return}try{const r=await B.fileToBase64(e);v.value.siteIconData=r}catch{u("æ–‡ä»¶è¯»å–å¤±è´¥","error")}a.target.value=""},K=()=>{v.value.siteIcon="",v.value.siteIconData=""},I=()=>{console.warn("Icon failed to load")},z=async()=>{if(d.value)try{const a=await _.get("/admin/scheduling/config",{signal:h.value.signal});if(a.success&&d.value){const e=a.data;F.value={globalDefaultStrategy:(e==null?void 0:e.defaultStrategy)||"least_recent",globalDefaultWeight:parseInt((e==null?void 0:e.globalDefaultWeight)||5),globalDefaultOrder:parseInt((e==null?void 0:e.globalDefaultOrder)||1),enableAccountOverride:(e==null?void 0:e.enableAccountOverride)==="true",enableGroupOverride:(e==null?void 0:e.enableGroupOverride)==="true",updatedAt:e==null?void 0:e.updatedAt},await D()}}catch(a){if(a.name==="AbortError"||!d.value)return;console.error("åŠ è½½è°ƒåº¦é…ç½®å¤±è´¥:",a)}},$=async()=>{if(d.value){X.value=!0;try{(await _.post("/admin/scheduling/config",F.value,{signal:h.value.signal})).success&&d.value&&(F.value.updatedAt=new Date().toISOString(),u("è°ƒåº¦ç­–ç•¥é…ç½®å·²ä¿å­˜","success"),await D())}catch(a){if(a.name==="AbortError"||!d.value)return;u("ä¿å­˜é…ç½®å¤±è´¥","error"),console.error(a)}finally{d.value&&(X.value=!1)}}},w=async()=>{if(confirm("ç¡®å®šè¦é‡ç½®è°ƒåº¦ç­–ç•¥é…ç½®ä¸ºé»˜è®¤è®¾ç½®å—ï¼Ÿ")){X.value=!0;try{(await _.post("/admin/scheduling/config/reset",{},{signal:h.value.signal})).success&&d.value&&(F.value={globalDefaultStrategy:"least_recent",globalDefaultWeight:5,globalDefaultOrder:1,enableAccountOverride:!0,enableGroupOverride:!0,updatedAt:new Date().toISOString()},u("è°ƒåº¦ç­–ç•¥é…ç½®å·²é‡ç½®","success"),await D())}catch(a){if(a.name==="AbortError"||!d.value)return;u("é‡ç½®é…ç½®å¤±è´¥","error"),console.error(a)}finally{d.value&&(X.value=!1)}}},D=async()=>{if(d.value)try{const a=await _.get("/admin/scheduling/stats",{signal:h.value.signal});a.success&&d.value&&(he.value=a.stats)}catch(a){if(a.name==="AbortError"||!d.value)return;console.error("åŠ è½½ä½¿ç”¨ç»Ÿè®¡å¤±è´¥:",a)}},j=()=>Ue(F.value.globalDefaultStrategy),Te=a=>({round_robin:"fas fa-sync-alt text-blue-500",least_used:"fas fa-chart-bar text-green-500",least_recent:"fas fa-clock text-orange-500",random:"fas fa-random text-purple-500",weighted_random:"fas fa-balance-scale text-amber-500",sequential:"fas fa-list-ol text-indigo-500"})[a]||"fas fa-clock text-orange-500",Ue=a=>({round_robin:"è½®è¯¢è°ƒåº¦",least_used:"æœ€å°‘ä½¿ç”¨",least_recent:"æœ€è¿‘æœ€å°‘ä½¿ç”¨",random:"éšæœºè°ƒåº¦",weighted_random:"åŠ æƒéšæœº",sequential:"é¡ºåºè°ƒåº¦"})[a]||"æœ€è¿‘æœ€å°‘ä½¿ç”¨",Me=a=>({round_robin:"æŒ‰é¡ºåºå¾ªç¯é€‰æ‹©è´¦æˆ·ï¼Œç¡®ä¿æ¯ä¸ªè´¦æˆ·è¢«å¹³å‡ä½¿ç”¨",least_used:"ä¼˜å…ˆé€‰æ‹©ä½¿ç”¨æ¬¡æ•°æœ€å°‘çš„è´¦æˆ·ï¼Œå®ç°è´Ÿè½½å‡è¡¡",least_recent:"ä¼˜å…ˆé€‰æ‹©æœ€é•¿æ—¶é—´æœªè¢«ä½¿ç”¨çš„è´¦æˆ·ï¼Œé€‚åˆå¤§éƒ¨åˆ†åœºæ™¯",random:"éšæœºé€‰æ‹©å¯ç”¨è´¦æˆ·ï¼Œåˆ†å¸ƒç›¸å¯¹å‡åŒ€",weighted_random:"æ ¹æ®æƒé‡éšæœºé€‰æ‹©ï¼Œæƒé‡è¶Šé«˜è¢«é€‰ä¸­æ¦‚ç‡è¶Šå¤§",sequential:"æŒ‰é…ç½®é¡ºåºé€ä¸€ä½¿ç”¨è´¦æˆ·ï¼Œé€‚åˆæœ‰ä¼˜å…ˆçº§è¦æ±‚çš„åœºæ™¯"})[a]||"ä¼˜å…ˆé€‰æ‹©æœ€é•¿æ—¶é—´æœªè¢«ä½¿ç”¨çš„è´¦æˆ·",L=m({apiKeys:0,claudeAccounts:0,openaiAccounts:0,systemConfig:0,is2FAEnabled:!1,lastExport:null}),pe=m(!1),Z=m(1),Ce=m(""),Ae=m(""),Se=m(null),se=m(""),re=m(!1),q=m({password:"",token:"",sessionToken:""}),ye=m(!1);let le=null;const De=m({includeStats:!0}),be=m(!1),Ie=m({conflictStrategy:"skip"}),me=m(!1),xe=m(null),$e=m(),ve=m({validateOnly:!1}),Le=m(!1),Ne=m(null),yt=m(),Re=m({todayLogs:0,totalLogs:0,storageUsed:0,errorLogs:0}),Ee=m(!1),We=async()=>{var a,e;try{const f=await _.get("/admin/data/overview");Object.assign(L.value,f.data)}catch(f){u("è·å–æ•°æ®æ¦‚è§ˆå¤±è´¥: "+(((e=(a=f.response)==null?void 0:a.data)==null?void 0:e.error)||f.message),"error")}},bt=async()=>{var a,e;try{const r=(await _.post("/admin/data/2fa/generate")).data;Ce.value=r.qrCode,Ae.value=r.manualEntryKey,Se.value=r.backupCodes,pe.value=!0,Z.value=1}catch(f){u("ç”Ÿæˆ2FAå¯†é’¥å¤±è´¥: "+(((e=(a=f.response)==null?void 0:a.data)==null?void 0:e.error)||f.message),"error")}},mt=async()=>{var a,e;try{await _.post("/admin/data/2fa/enable",{token:se.value}),Z.value=3,u("2FAå¯ç”¨æˆåŠŸ","success")}catch(f){u("2FAå¯ç”¨å¤±è´¥: "+(((e=(a=f.response)==null?void 0:a.data)==null?void 0:e.error)||f.message),"error")}},xt=()=>{pe.value=!1,Z.value=1,se.value="",L.value.is2FAEnabled=!0},vt=async()=>{var a,e;ye.value=!0;try{const f=await _.post("/admin/data/2fa/verify",{password:q.value.password,token:q.value.token});q.value.sessionToken=f.data.sessionToken,re.value=!1,le&&(await le(),le=null),q.value.password="",q.value.token=""}catch(f){u("éªŒè¯å¤±è´¥: "+(((e=(a=f.response)==null?void 0:a.data)==null?void 0:e.error)||f.message),"error")}finally{ye.value=!1}},kt=()=>{if(!q.value.sessionToken){le=lt,re.value=!0;return}lt()},lt=async()=>{var a,e;be.value=!0;try{const f=await _.post("/admin/data/export",{sessionToken:q.value.sessionToken,includeStats:De.value.includeStats},{responseType:"blob",timeout:6e4});if(!f.data||f.data.size===0)throw new Error("ä¸‹è½½çš„æ–‡ä»¶ä¸ºç©º");const r=f.headers["content-type"]||((e=(a=f.headers).get)==null?void 0:e.call(a,"content-type"));if(r&&!r.includes("application/zip")){const It=await f.data.text();try{const dt=JSON.parse(It);throw new Error(dt.error||"å¯¼å‡ºå¤±è´¥")}catch{throw new Error("å¯¼å‡ºæ–‡ä»¶æ ¼å¼é”™è¯¯")}}const C=new Blob([f.data],{type:"application/zip"}),oe=window.URL.createObjectURL(C),Fe=document.createElement("a");Fe.href=oe,Fe.download=`claude-relay-data-${Date.now()}.zip`,document.body.appendChild(Fe),Fe.click(),setTimeout(()=>{document.body.removeChild(Fe),window.URL.revokeObjectURL(oe)},100),u("æ•°æ®å¯¼å‡ºæˆåŠŸ","success"),We()}catch(f){console.error("å¯¼å‡ºé”™è¯¯:",f);let r="å¯¼å‡ºå¤±è´¥";if(f.response){if(f.response.data)try{if(f.response.data instanceof Blob){const C=await f.response.data.text();r=JSON.parse(C).error||"å¯¼å‡ºå¤±è´¥"}else r=f.response.data.error||"å¯¼å‡ºå¤±è´¥"}catch{r=`å¯¼å‡ºå¤±è´¥ (çŠ¶æ€ç : ${f.response.status})`}}else f.message&&(r=f.message);u("æ•°æ®å¯¼å‡ºå¤±è´¥: "+r,"error")}finally{be.value=!1,q.value.sessionToken=""}},ht=a=>{xe.value=a.target.files[0]},wt=()=>{if(!q.value.sessionToken){le=ot,re.value=!0;return}ot()},ot=async()=>{var a,e;me.value=!0;try{const f=new FormData;f.append("dataFile",xe.value),f.append("sessionToken",q.value.sessionToken),f.append("conflictStrategy",Ie.value.conflictStrategy);const C=(await _.post("/admin/data/import",f)).data;u(`æ•°æ®å¯¼å…¥æˆåŠŸ: å¯¼å…¥${C.importedRecords}æ¡è®°å½•ï¼Œè·³è¿‡${C.skippedRecords}æ¡è®°å½•`,"success"),We()}catch(f){u("æ•°æ®å¯¼å…¥å¤±è´¥: "+(((e=(a=f.response)==null?void 0:a.data)==null?void 0:e.error)||f.message),"error")}finally{me.value=!1,q.value.sessionToken="",xe.value=null}},Tt=a=>{Ne.value=a.target.files[0]},Ct=()=>{if(!q.value.sessionToken){le=nt,re.value=!0;return}nt()},nt=async()=>{var a,e;Le.value=!0;try{const f=new FormData;f.append("configFile",Ne.value),f.append("sessionToken",q.value.sessionToken),f.append("validateOnly",ve.value.validateOnly);const C=(await _.post("/admin/data/migrate",f)).data,oe=ve.value.validateOnly?`è¿ç§»éªŒè¯å®Œæˆ: ${C.sourceDatabase} â†’ ${C.targetDatabase}`:`æ•°æ®åº“è¿ç§»å®Œæˆ: ${C.totalRecords}æ¡è®°å½•`;u(oe,"success")}catch(f){u("è¿ç§»æ“ä½œå¤±è´¥: "+(((e=(a=f.response)==null?void 0:a.data)==null?void 0:e.error)||f.message),"error")}finally{Le.value=!1,q.value.sessionToken="",Ne.value=null}},At=a=>new Date(a).toLocaleString("zh-CN"),it=async()=>{if(d.value)try{await N.loadConfig(),await at()}catch(a){if(a.name==="AbortError"||!d.value)return}},ee=async()=>{if(d.value)try{await N.saveConfig(A.value),d.value&&(u("è¯·æ±‚æ—¥å¿—é…ç½®å·²ä¿å­˜","success"),await at())}catch(a){if(a.name==="AbortError"||!d.value)return;u("ä¿å­˜é…ç½®å¤±è´¥","error"),console.error(a)}},at=async()=>{if(d.value)try{const a=await _.get("/admin/request-logs/stats",{signal:h.value.signal});if(a.success&&d.value&&a.data){const e=a.data,f={todayLogs:e.todayLogs||0,totalLogs:e.totalRequests||e.totalLogs||0,storageUsed:e.storageUsed||0,errorLogs:e.errorLogs?e.errorLogs:e.statusCodes?Object.entries(e.statusCodes).filter(([r])=>{const C=parseInt(r);return C>=400&&C<600}).reduce((r,[,C])=>r+C,0):0};Object.assign(Re.value,f)}}catch(a){if(a.name==="AbortError"||!d.value)return}},St=async()=>{if(d.value&&confirm(`ç¡®å®šè¦æ¸…ç†è¿‡æœŸçš„æ—¥å¿—æ–‡ä»¶å—ï¼Ÿ

è¿™å°†åˆ é™¤è¶…è¿‡ä¿ç•™æœŸé™çš„æ‰€æœ‰æ—¥å¿—è®°å½•ã€‚`)){Ee.value=!0;try{const a=await _.post("/admin/request-logs/cleanup",{},{signal:h.value.signal});a.success&&d.value&&(u(`æ¸…ç†å®Œæˆï¼Œåˆ é™¤äº† ${a.data.deletedFiles} ä¸ªæ–‡ä»¶`,"success"),await at())}catch(a){if(a.name==="AbortError"||!d.value)return;u("æ¸…ç†å¤±è´¥","error"),console.error(a)}finally{d.value&&(Ee.value=!1)}}},Dt=a=>{if(a===0)return"0 B";const e=1024,f=["B","KB","MB","GB","TB"],r=Math.floor(Math.log(a)/Math.log(e));return parseFloat((a/Math.pow(e,r)).toFixed(2))+" "+f[r]},ze=B.formatDateTime;return(a,e)=>{const f=Rt("router-link");return c(),g(He,null,[t("div",Pt,[t("div",Vt,[e[189]||(e[189]=t("div",{class:"mb-4 sm:mb-6"},[t("h3",{class:"mb-1 text-lg font-bold text-gray-900 dark:text-gray-100 sm:mb-2 sm:text-xl"}," ç³»ç»Ÿè®¾ç½® "),t("p",{class:"text-sm text-gray-600 dark:text-gray-400 sm:text-base"},"ç½‘ç«™å®šåˆ¶å’Œé€šçŸ¥é…ç½®")],-1)),t("div",Kt,[t("nav",Mt,[t("button",{class:H(["border-b-2 pb-2 text-sm font-medium transition-colors",R.value==="branding"?"border-blue-500 text-blue-600 dark:border-blue-400 dark:text-blue-400":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"]),onClick:e[0]||(e[0]=r=>R.value="branding")},[...e[64]||(e[64]=[t("i",{class:"fas fa-palette mr-2"},null,-1),b(" å“ç‰Œè®¾ç½® ",-1)])],2),t("button",{class:H(["border-b-2 pb-2 text-sm font-medium transition-colors",R.value==="scheduling"?"border-blue-500 text-blue-600 dark:border-blue-400 dark:text-blue-400":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"]),onClick:e[1]||(e[1]=r=>R.value="scheduling")},[...e[65]||(e[65]=[t("i",{class:"fas fa-route mr-2"},null,-1),b(" è°ƒåº¦ç­–ç•¥é…ç½® ",-1)])],2),t("button",{class:H(["border-b-2 pb-2 text-sm font-medium transition-colors",R.value==="webhook"?"border-blue-500 text-blue-600 dark:border-blue-400 dark:text-blue-400":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"]),onClick:e[2]||(e[2]=r=>R.value="webhook")},[...e[66]||(e[66]=[t("i",{class:"fas fa-bell mr-2"},null,-1),b(" é€šçŸ¥è®¾ç½® ",-1)])],2),t("button",{class:H(["border-b-2 pb-2 text-sm font-medium transition-colors",R.value==="data-management"?"border-blue-500 text-blue-600 dark:border-blue-400 dark:text-blue-400":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"]),onClick:e[3]||(e[3]=r=>R.value="data-management")},[...e[67]||(e[67]=[t("i",{class:"fas fa-database mr-2"},null,-1),b(" æ•°æ®ç®¡ç† ",-1)])],2),t("button",{class:H(["border-b-2 pb-2 text-sm font-medium transition-colors",R.value==="request-logging"?"border-blue-500 text-blue-600 dark:border-blue-400 dark:text-blue-400":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"]),onClick:e[4]||(e[4]=r=>R.value="request-logging")},[...e[68]||(e[68]=[t("i",{class:"fas fa-file-alt mr-2"},null,-1),b(" è¯·æ±‚æ—¥å¿— ",-1)])],2)])]),p(Q)?(c(),g("div",$t,[...e[69]||(e[69]=[t("div",{class:"loading-spinner mx-auto mb-4"},null,-1),t("p",{class:"text-gray-500 dark:text-gray-400"},"æ­£åœ¨åŠ è½½è®¾ç½®...",-1)])])):(c(),g("div",Lt,[y(t("div",null,[t("div",Nt,[t("table",Wt,[t("tbody",zt,[t("tr",Ht,[e[71]||(e[71]=t("td",{class:"w-48 whitespace-nowrap px-6 py-4"},[t("div",{class:"flex items-center"},[t("div",{class:"mr-3 flex h-8 w-8 items-center justify-center rounded-lg bg-gradient-to-br from-blue-500 to-blue-600"},[t("i",{class:"fas fa-font text-xs text-white"})]),t("div",null,[t("div",{class:"text-sm font-semibold text-gray-900 dark:text-gray-100"}," ç½‘ç«™åç§° "),t("div",{class:"text-xs text-gray-500 dark:text-gray-400"},"å“ç‰Œæ ‡è¯†")])])],-1)),t("td",Gt,[y(t("input",{"onUpdate:modelValue":e[5]||(e[5]=r=>p(v).siteName=r),class:"form-input w-full max-w-md dark:border-gray-600 dark:bg-gray-700 dark:text-gray-200",maxlength:"100",placeholder:"Claude Relay Service",type:"text"},null,512),[[E,p(v).siteName]]),e[70]||(e[70]=t("p",{class:"mt-1 text-xs text-gray-500 dark:text-gray-400"}," å°†æ˜¾ç¤ºåœ¨æµè§ˆå™¨æ ‡é¢˜å’Œé¡µé¢å¤´éƒ¨ ",-1))])]),t("tr",Qt,[e[76]||(e[76]=t("td",{class:"w-48 whitespace-nowrap px-6 py-4"},[t("div",{class:"flex items-center"},[t("div",{class:"mr-3 flex h-8 w-8 items-center justify-center rounded-lg bg-gradient-to-br from-purple-500 to-purple-600"},[t("i",{class:"fas fa-image text-xs text-white"})]),t("div",null,[t("div",{class:"text-sm font-semibold text-gray-900 dark:text-gray-100"}," ç½‘ç«™å›¾æ ‡ "),t("div",{class:"text-xs text-gray-500 dark:text-gray-400"},"Favicon")])])],-1)),t("td",Yt,[t("div",Jt,[p(v).siteIconData||p(v).siteIcon?(c(),g("div",Xt,[t("img",{alt:"å›¾æ ‡é¢„è§ˆ",class:"h-8 w-8",src:p(v).siteIconData||p(v).siteIcon,onError:I},null,40,Zt),e[73]||(e[73]=t("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"å½“å‰å›¾æ ‡",-1)),t("button",{class:"rounded-lg px-3 py-1 font-medium text-red-600 transition-colors hover:bg-red-50 hover:text-red-900",onClick:K},[...e[72]||(e[72]=[t("i",{class:"fas fa-trash mr-1"},null,-1),b("åˆ é™¤ ",-1)])])])):S("",!0),t("div",null,[t("input",{ref_key:"iconFileInput",ref:ge,accept:".ico,.png,.jpg,.jpeg,.svg",class:"hidden",type:"file",onChange:O},null,544),t("button",{class:"btn btn-success px-4 py-2",onClick:e[6]||(e[6]=r=>a.$refs.iconFileInput.click())},[...e[74]||(e[74]=[t("i",{class:"fas fa-upload mr-2"},null,-1),b(" ä¸Šä¼ å›¾æ ‡ ",-1)])]),e[75]||(e[75]=t("span",{class:"ml-3 text-xs text-gray-500 dark:text-gray-400"},"æ”¯æŒ .ico, .png, .jpg, .svg æ ¼å¼ï¼Œæœ€å¤§ 350KB",-1))])])])]),t("tr",ea,[e[79]||(e[79]=t("td",{class:"w-48 whitespace-nowrap px-6 py-4"},[t("div",{class:"flex items-center"},[t("div",{class:"mr-3 flex h-8 w-8 items-center justify-center rounded-lg bg-gradient-to-br from-indigo-500 to-purple-600"},[t("i",{class:"fas fa-eye-slash text-xs text-white"})]),t("div",null,[t("div",{class:"text-sm font-semibold text-gray-900 dark:text-gray-100"}," ç®¡ç†å…¥å£ "),t("div",{class:"text-xs text-gray-500 dark:text-gray-400"},"ç™»å½•æŒ‰é’®æ˜¾ç¤º")])])],-1)),t("td",ta,[t("div",aa,[t("label",ra,[y(t("input",{"onUpdate:modelValue":e[7]||(e[7]=r=>Y.value=r),class:"peer sr-only",type:"checkbox"},null,512),[[G,Y.value]]),e[77]||(e[77]=t("div",{class:"peer relative h-6 w-11 rounded-full bg-gray-200 after:absolute after:left-[2px] after:top-[2px] after:h-5 after:w-5 after:rounded-full after:border after:border-gray-300 after:bg-white after:transition-all after:content-[''] peer-checked:bg-blue-600 peer-checked:after:translate-x-full peer-checked:after:border-white peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:border-gray-600 dark:bg-gray-700 dark:peer-focus:ring-blue-800"},null,-1)),t("span",sa,k(Y.value?"éšè—ç™»å½•æŒ‰é’®":"æ˜¾ç¤ºç™»å½•æŒ‰é’®"),1)])]),e[78]||(e[78]=t("p",{class:"mt-1 text-xs text-gray-500 dark:text-gray-400"}," éšè—åï¼Œç”¨æˆ·éœ€è¦ç›´æ¥è®¿é—® /admin/login é¡µé¢ç™»å½• ",-1))])]),t("tr",null,[t("td",la,[t("div",oa,[t("div",na,[t("button",{class:H(["btn btn-primary px-6 py-3",{"cursor-not-allowed opacity-50":p(P)}]),disabled:p(P),onClick:T},[p(P)?(c(),g("div",da)):(c(),g("i",ua)),b(" "+k(p(P)?"ä¿å­˜ä¸­...":"ä¿å­˜è®¾ç½®"),1)],10,ia),t("button",{class:"btn bg-gray-100 px-6 py-3 text-gray-700 hover:bg-gray-200 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600",disabled:p(P),onClick:U},[...e[80]||(e[80]=[t("i",{class:"fas fa-undo mr-2"},null,-1),b(" é‡ç½®ä¸ºé»˜è®¤ ",-1)])],8,ga)]),p(v).updatedAt?(c(),g("div",ca,[e[81]||(e[81]=t("i",{class:"fas fa-clock mr-1"},null,-1)),b(" æœ€åæ›´æ–°ï¼š"+k(p(ze)(p(v).updatedAt)),1)])):S("",!0)])])])])])]),t("div",fa,[t("div",pa,[e[82]||(e[82]=te('<div class="mb-3 flex items-center gap-3" data-v-3d84849f><div class="flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-xl bg-gradient-to-br from-blue-500 to-cyan-600 text-white shadow-md" data-v-3d84849f><i class="fas fa-tag" data-v-3d84849f></i></div><div data-v-3d84849f><h3 class="text-base font-semibold text-gray-900 dark:text-gray-100" data-v-3d84849f>ç«™ç‚¹åç§°</h3><p class="text-sm text-gray-500 dark:text-gray-400" data-v-3d84849f>è‡ªå®šä¹‰æ‚¨çš„ç«™ç‚¹å“ç‰Œåç§°</p></div></div>',1)),y(t("input",{"onUpdate:modelValue":e[8]||(e[8]=r=>p(v).siteName=r),class:"form-input w-full dark:border-gray-600 dark:bg-gray-700 dark:text-gray-200",maxlength:"100",placeholder:"Claude Relay Service",type:"text"},null,512),[[E,p(v).siteName]])]),t("div",ya,[e[86]||(e[86]=te('<div class="mb-3 flex items-center gap-3" data-v-3d84849f><div class="flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-xl bg-gradient-to-br from-purple-500 to-pink-600 text-white shadow-md" data-v-3d84849f><i class="fas fa-image" data-v-3d84849f></i></div><div data-v-3d84849f><h3 class="text-base font-semibold text-gray-900 dark:text-gray-100" data-v-3d84849f>ç«™ç‚¹å›¾æ ‡</h3><p class="text-sm text-gray-500 dark:text-gray-400" data-v-3d84849f> ä¸Šä¼ è‡ªå®šä¹‰å›¾æ ‡æˆ–è¾“å…¥å›¾æ ‡URL </p></div></div>',1)),t("div",ba,[p(v).siteIconData||p(v).siteIcon?(c(),g("div",ma,[t("img",{alt:"å›¾æ ‡é¢„è§ˆ",class:"h-8 w-8",src:p(v).siteIconData||p(v).siteIcon,onError:I},null,40,xa),e[83]||(e[83]=t("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"å½“å‰å›¾æ ‡",-1)),t("button",{class:"rounded-lg px-3 py-1 font-medium text-red-600 transition-colors hover:bg-red-50 hover:text-red-900",onClick:K}," åˆ é™¤ ")])):S("",!0),t("div",null,[t("input",{ref:"iconFileInputMobile",accept:".ico,.png,.jpg,.jpeg,.svg",class:"hidden",type:"file",onChange:O},null,544),t("button",{class:"btn btn-success px-4 py-2",onClick:e[9]||(e[9]=r=>a.$refs.iconFileInputMobile.click())},[...e[84]||(e[84]=[t("i",{class:"fas fa-upload mr-2"},null,-1),b(" ä¸Šä¼ å›¾æ ‡ ",-1)])]),e[85]||(e[85]=t("p",{class:"mt-2 text-xs text-gray-500 dark:text-gray-400"}," æ”¯æŒ .ico, .png, .jpg, .svg æ ¼å¼ï¼Œæœ€å¤§ 350KB ",-1))])])]),t("div",va,[e[89]||(e[89]=te('<div class="mb-3 flex items-center gap-3" data-v-3d84849f><div class="flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-xl bg-gradient-to-br from-indigo-500 to-purple-600 text-white shadow-md" data-v-3d84849f><i class="fas fa-eye-slash" data-v-3d84849f></i></div><div data-v-3d84849f><h3 class="text-base font-semibold text-gray-900 dark:text-gray-100" data-v-3d84849f>ç®¡ç†å…¥å£</h3><p class="text-sm text-gray-500 dark:text-gray-400" data-v-3d84849f>æ§åˆ¶ç™»å½•æŒ‰é’®åœ¨é¦–é¡µçš„æ˜¾ç¤º</p></div></div>',1)),t("div",ka,[t("label",ha,[y(t("input",{"onUpdate:modelValue":e[10]||(e[10]=r=>Y.value=r),class:"peer sr-only",type:"checkbox"},null,512),[[G,Y.value]]),e[87]||(e[87]=t("div",{class:"peer relative h-6 w-11 rounded-full bg-gray-200 after:absolute after:left-[2px] after:top-[2px] after:h-5 after:w-5 after:rounded-full after:border after:border-gray-300 after:bg-white after:transition-all after:content-[''] peer-checked:bg-blue-600 peer-checked:after:translate-x-full peer-checked:after:border-white peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:border-gray-600 dark:bg-gray-700 dark:peer-focus:ring-blue-800"},null,-1)),t("span",wa,k(Y.value?"éšè—ç™»å½•æŒ‰é’®":"æ˜¾ç¤ºç™»å½•æŒ‰é’®"),1)]),e[88]||(e[88]=t("p",{class:"text-xs text-gray-500 dark:text-gray-400"}," éšè—åï¼Œç”¨æˆ·éœ€è¦ç›´æ¥è®¿é—® /admin/login é¡µé¢ç™»å½• ",-1))])]),t("div",Ta,[t("div",Ca,[t("button",{class:H(["btn btn-primary w-full px-6 py-3",{"cursor-not-allowed opacity-50":p(P)}]),disabled:p(P),onClick:T},[p(P)?(c(),g("div",Sa)):(c(),g("i",Da)),b(" "+k(p(P)?"ä¿å­˜ä¸­...":"ä¿å­˜è®¾ç½®"),1)],10,Aa),t("button",{class:"btn w-full bg-gray-100 px-6 py-3 text-gray-700 hover:bg-gray-200 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600",disabled:p(P),onClick:U},[...e[90]||(e[90]=[t("i",{class:"fas fa-undo mr-2"},null,-1),b(" é‡ç½®ä¸ºé»˜è®¤ ",-1)])],8,Ia),p(v).updatedAt?(c(),g("div",_a,[e[91]||(e[91]=t("i",{class:"fas fa-clock mr-1"},null,-1)),b(" ä¸Šæ¬¡æ›´æ–°: "+k(p(ze)(p(v).updatedAt)),1)])):S("",!0)])])])],512),[[Be,R.value==="branding"]]),y(t("div",null,[t("div",Ua,[t("div",Ra,[e[92]||(e[92]=t("div",null,[t("h2",{class:"text-lg font-semibold text-gray-800 dark:text-gray-200"},[t("i",{class:"fas fa-route mr-2 text-blue-500"}),b(" å…¨å±€é»˜è®¤è°ƒåº¦ç­–ç•¥ ")]),t("p",{class:"mt-1 text-sm text-gray-600 dark:text-gray-400"}," è®¾ç½®ç³»ç»Ÿçš„é»˜è®¤è°ƒåº¦ç­–ç•¥ï¼Œå½±å“æ‰€æœ‰æœªå•ç‹¬é…ç½®çš„è´¦æˆ·å’Œåˆ†ç»„ ")],-1)),t("div",Ea," å½“å‰ç”Ÿæ•ˆï¼š"+k(j()),1)]),t("div",Fa,[t("div",null,[e[94]||(e[94]=t("label",{class:"mb-2 block text-sm font-medium text-gray-700 dark:text-gray-300"}," é»˜è®¤ç­–ç•¥ ",-1)),y(t("select",{"onUpdate:modelValue":e[11]||(e[11]=r=>F.value.globalDefaultStrategy=r),class:"w-full rounded-lg border border-gray-300 bg-white px-3 py-2 text-gray-900 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white",onChange:$},[...e[93]||(e[93]=[te('<option value="round_robin" data-v-3d84849f>è½®è¯¢è°ƒåº¦ (Round Robin)</option><option value="least_used" data-v-3d84849f>æœ€å°‘ä½¿ç”¨ (Least Used)</option><option value="least_recent" data-v-3d84849f>æœ€è¿‘æœ€å°‘ä½¿ç”¨ (Least Recent)</option><option value="random" data-v-3d84849f>éšæœºè°ƒåº¦ (Random)</option><option value="weighted_random" data-v-3d84849f>åŠ æƒéšæœº (Weighted Random)</option><option value="sequential" data-v-3d84849f>é¡ºåºè°ƒåº¦ (Sequential)</option>',6)])],544),[[ke,F.value.globalDefaultStrategy]])]),t("div",Ba,[t("div",Oa,[t("i",{class:H(Te(F.value.globalDefaultStrategy))},null,2),t("div",ja,[t("p",qa,k(Ue(F.value.globalDefaultStrategy))+"ç­–ç•¥è¯´æ˜ï¼š ",1),t("p",null,k(Me(F.value.globalDefaultStrategy)),1)])])]),F.value.globalDefaultStrategy==="weighted_random"?(c(),g("div",Pa,[e[95]||(e[95]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},[t("i",{class:"fas fa-weight-hanging mr-2 text-amber-500"}),b(" å…¨å±€é»˜è®¤æƒé‡ (1-10) ")],-1)),y(t("input",{"onUpdate:modelValue":e[12]||(e[12]=r=>F.value.globalDefaultWeight=r),class:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white",max:"10",min:"1",type:"number",onChange:$},null,544),[[E,F.value.globalDefaultWeight,void 0,{number:!0}]]),e[96]||(e[96]=t("p",{class:"text-xs text-gray-500 dark:text-gray-400"}," æƒé‡è¶Šé«˜çš„è´¦æˆ·è¢«é€‰ä¸­çš„æ¦‚ç‡è¶Šå¤§ ",-1))])):F.value.globalDefaultStrategy==="sequential"?(c(),g("div",Va,[e[97]||(e[97]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},[t("i",{class:"fas fa-sort-numeric-down mr-2 text-indigo-500"}),b(" å…¨å±€é»˜è®¤èµ·å§‹ä½ç½® ")],-1)),y(t("input",{"onUpdate:modelValue":e[13]||(e[13]=r=>F.value.globalDefaultOrder=r),class:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white",min:"1",type:"number",onChange:$},null,544),[[E,F.value.globalDefaultOrder,void 0,{number:!0}]]),e[98]||(e[98]=t("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"æ•°å­—è¶Šå°çš„è´¦æˆ·ä¼˜å…ˆè¢«é€‰æ‹©",-1))])):S("",!0)])]),t("div",Ka,[e[103]||(e[103]=t("h2",{class:"mb-4 text-lg font-semibold text-gray-800 dark:text-gray-200"},[t("i",{class:"fas fa-cogs mr-2 text-green-500"}),b(" ç­–ç•¥è¦†ç›–è®¾ç½® ")],-1)),t("div",Ma,[t("div",$a,[e[100]||(e[100]=t("div",null,[t("h3",{class:"font-medium text-gray-700 dark:text-gray-300"},"è´¦æˆ·çº§åˆ«è¦†ç›–"),t("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," å…è®¸å•ä¸ªè´¦æˆ·è¦†ç›–å…¨å±€è°ƒåº¦ç­–ç•¥ ")],-1)),t("label",La,[y(t("input",{"onUpdate:modelValue":e[14]||(e[14]=r=>F.value.enableAccountOverride=r),class:"peer sr-only",type:"checkbox",onChange:$},null,544),[[G,F.value.enableAccountOverride]]),e[99]||(e[99]=t("div",{class:"peer h-6 w-11 rounded-full bg-gray-200 after:absolute after:left-[2px] after:top-[2px] after:h-5 after:w-5 after:rounded-full after:border after:border-gray-300 after:bg-white after:transition-all after:content-[''] peer-checked:bg-blue-600 peer-checked:after:translate-x-full peer-checked:after:border-white peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:border-gray-600 dark:bg-gray-700 dark:peer-focus:ring-blue-800"},null,-1))])]),t("div",Na,[e[102]||(e[102]=t("div",null,[t("h3",{class:"font-medium text-gray-700 dark:text-gray-300"},"åˆ†ç»„çº§åˆ«è¦†ç›–"),t("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"å…è®¸åˆ†ç»„è¦†ç›–å…¨å±€è°ƒåº¦ç­–ç•¥")],-1)),t("label",Wa,[y(t("input",{"onUpdate:modelValue":e[15]||(e[15]=r=>F.value.enableGroupOverride=r),class:"peer sr-only",type:"checkbox",onChange:$},null,544),[[G,F.value.enableGroupOverride]]),e[101]||(e[101]=t("div",{class:"peer h-6 w-11 rounded-full bg-gray-200 after:absolute after:left-[2px] after:top-[2px] after:h-5 after:w-5 after:rounded-full after:border after:border-gray-300 after:bg-white after:transition-all after:content-[''] peer-checked:bg-blue-600 peer-checked:after:translate-x-full peer-checked:after:border-white peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:border-gray-600 dark:bg-gray-700 dark:peer-focus:ring-blue-800"},null,-1))])])])]),t("div",za,[e[113]||(e[113]=t("h2",{class:"mb-4 text-lg font-semibold text-gray-800 dark:text-gray-200"},[t("i",{class:"fas fa-chart-pie mr-2 text-purple-500"}),b(" å½“å‰ä½¿ç”¨ç»Ÿè®¡ ")],-1)),t("div",Ha,[t("div",Ga,[t("div",Qa,[t("div",null,[e[104]||(e[104]=t("p",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},"ä½¿ç”¨å…¨å±€ç­–ç•¥",-1)),t("p",Ya,k(he.value.globalStrategyCount||0),1)]),e[105]||(e[105]=t("i",{class:"fas fa-globe text-xl text-blue-500"},null,-1))]),e[106]||(e[106]=t("p",{class:"mt-1 text-xs text-gray-500 dark:text-gray-400"},"è´¦æˆ·æ•°é‡",-1))]),t("div",Ja,[t("div",Xa,[t("div",null,[e[107]||(e[107]=t("p",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},"è‡ªå®šä¹‰ç­–ç•¥",-1)),t("p",Za,k(he.value.customStrategyCount||0),1)]),e[108]||(e[108]=t("i",{class:"fas fa-cog text-xl text-green-500"},null,-1))]),e[109]||(e[109]=t("p",{class:"mt-1 text-xs text-gray-500 dark:text-gray-400"},"è´¦æˆ·æ•°é‡",-1))]),t("div",er,[t("div",tr,[t("div",null,[e[110]||(e[110]=t("p",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},"åˆ†ç»„ç­–ç•¥",-1)),t("p",ar,k(he.value.groupStrategyCount||0),1)]),e[111]||(e[111]=t("i",{class:"fas fa-layer-group text-xl text-purple-500"},null,-1))]),e[112]||(e[112]=t("p",{class:"mt-1 text-xs text-gray-500 dark:text-gray-400"},"åˆ†ç»„æ•°é‡",-1))])])]),t("div",rr,[t("div",sr,[t("button",{class:H(["btn btn-primary px-6 py-3",{"cursor-not-allowed opacity-50":X.value}]),disabled:X.value,onClick:$},[X.value?(c(),g("div",or)):(c(),g("i",nr)),b(" "+k(X.value?"ä¿å­˜ä¸­...":"ä¿å­˜é…ç½®"),1)],10,lr),t("button",{class:"btn bg-gray-100 px-6 py-3 text-gray-700 hover:bg-gray-200 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600",disabled:X.value,onClick:w},[...e[114]||(e[114]=[t("i",{class:"fas fa-undo mr-2"},null,-1),b(" é‡ç½®ä¸ºé»˜è®¤ ",-1)])],8,ir)]),F.value.updatedAt?(c(),g("div",dr,[e[115]||(e[115]=t("i",{class:"fas fa-clock mr-1"},null,-1)),b(" æœ€åæ›´æ–°ï¼š"+k(p(ze)(F.value.updatedAt)),1)])):S("",!0)])],512),[[Be,R.value==="scheduling"]]),y(t("div",null,[t("div",ur,[t("div",gr,[e[117]||(e[117]=t("div",null,[t("h2",{class:"text-lg font-semibold text-gray-800 dark:text-gray-200"},"å¯ç”¨é€šçŸ¥"),t("p",{class:"mt-1 text-sm text-gray-600 dark:text-gray-400"}," å¼€å¯åï¼Œç³»ç»Ÿå°†æŒ‰é…ç½®å‘é€é€šçŸ¥åˆ°æŒ‡å®šå¹³å° ")],-1)),t("label",cr,[y(t("input",{"onUpdate:modelValue":e[16]||(e[16]=r=>V.value.enabled=r),class:"peer sr-only",type:"checkbox",onChange:ce},null,544),[[G,V.value.enabled]]),e[116]||(e[116]=t("div",{class:"peer h-6 w-11 rounded-full bg-gray-200 after:absolute after:left-[2px] after:top-[2px] after:h-5 after:w-5 after:rounded-full after:border after:border-gray-300 after:bg-white after:transition-all after:content-[''] peer-checked:bg-blue-600 peer-checked:after:translate-x-full peer-checked:after:border-white peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:border-gray-600 dark:bg-gray-700 dark:peer-focus:ring-blue-800"},null,-1))])])]),t("div",fr,[e[119]||(e[119]=t("h2",{class:"mb-4 text-lg font-semibold text-gray-800 dark:text-gray-200"},"é€šçŸ¥ç±»å‹",-1)),t("div",pr,[(c(!0),g(He,null,rt(V.value.notificationTypes,(r,C)=>(c(),g("div",{key:C,class:"flex items-center justify-between"},[t("div",null,[t("span",yr,k(i(C)),1),t("span",br,k(n(C)),1)]),t("label",mr,[y(t("input",{"onUpdate:modelValue":oe=>V.value.notificationTypes[C]=oe,class:"peer sr-only",type:"checkbox",onChange:ce},null,40,xr),[[G,V.value.notificationTypes[C]]]),e[118]||(e[118]=t("div",{class:"peer h-5 w-9 rounded-full bg-gray-200 after:absolute after:left-[2px] after:top-[2px] after:h-4 after:w-4 after:rounded-full after:border after:border-gray-300 after:bg-white after:transition-all after:content-[''] peer-checked:bg-green-600 peer-checked:after:translate-x-full peer-checked:after:border-white dark:border-gray-600 dark:bg-gray-700"},null,-1))])]))),128))])]),t("div",vr,[t("div",kr,[e[121]||(e[121]=t("h2",{class:"text-lg font-semibold text-gray-800 dark:text-gray-200"},"é€šçŸ¥å¹³å°",-1)),t("button",{class:"rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white transition-colors hover:bg-blue-700",onClick:e[17]||(e[17]=r=>de.value=!0)},[...e[120]||(e[120]=[t("i",{class:"fas fa-plus mr-2"},null,-1),b(" æ·»åŠ å¹³å° ",-1)])])]),V.value.platforms&&V.value.platforms.length>0?(c(),g("div",hr,[(c(!0),g(He,null,rt(V.value.platforms,r=>(c(),g("div",{key:r.id,class:"rounded-lg border border-gray-200 p-4 dark:border-gray-700"},[t("div",wr,[t("div",Tr,[t("div",Cr,[t("i",{class:H(["mr-3 text-xl",st(r.type)])},null,2),t("div",null,[t("h3",Ar,k(r.name||tt(r.type)),1),t("p",Sr,k(tt(r.type)),1)])]),t("div",Dr,[r.type!=="smtp"&&r.type!=="telegram"?(c(),g("div",Ir,[e[122]||(e[122]=t("i",{class:"fas fa-link mr-2"},null,-1)),t("span",_r,k(r.url),1)])):S("",!0),r.type==="telegram"?(c(),g("div",Ur,[e[123]||(e[123]=t("i",{class:"fas fa-comments mr-2"},null,-1)),t("span",Rr,"Chat ID: "+k(r.chatId||"æœªé…ç½®"),1)])):S("",!0),r.type==="telegram"&&r.botToken?(c(),g("div",Er,[e[124]||(e[124]=t("i",{class:"fas fa-key mr-2"},null,-1)),t("span",Fr,"Token: "+k(l(r.botToken)),1)])):S("",!0),r.type==="telegram"&&r.apiBaseUrl?(c(),g("div",Br,[e[125]||(e[125]=t("i",{class:"fas fa-globe mr-2"},null,-1)),t("span",Or,"API: "+k(r.apiBaseUrl),1)])):S("",!0),r.type==="telegram"&&r.proxyUrl?(c(),g("div",jr,[e[126]||(e[126]=t("i",{class:"fas fa-route mr-2"},null,-1)),t("span",qr,"ä»£ç†: "+k(r.proxyUrl),1)])):S("",!0),r.type==="smtp"&&r.to?(c(),g("div",Pr,[e[127]||(e[127]=t("i",{class:"fas fa-envelope mr-2"},null,-1)),t("span",Vr,k(Array.isArray(r.to)?r.to.join(", "):r.to),1)])):S("",!0),r.enableSign?(c(),g("div",Kr,[...e[128]||(e[128]=[t("i",{class:"fas fa-shield-alt mr-2"},null,-1),t("span",null,"å·²å¯ç”¨ç­¾åéªŒè¯",-1)])])):S("",!0)])]),t("div",Mr,[t("label",$r,[t("input",{checked:r.enabled,class:"peer sr-only",type:"checkbox",onChange:C=>Xe(r.id)},null,40,Lr),e[129]||(e[129]=t("div",{class:"peer h-5 w-9 rounded-full bg-gray-200 after:absolute after:left-[2px] after:top-[2px] after:h-4 after:w-4 after:rounded-full after:border after:border-gray-300 after:bg-white after:transition-all after:content-[''] peer-checked:bg-green-600 peer-checked:after:translate-x-full peer-checked:after:border-white dark:border-gray-600 dark:bg-gray-700"},null,-1))]),t("button",{class:"rounded-lg bg-blue-100 p-2 text-blue-600 transition-colors hover:bg-blue-200 dark:bg-blue-900 dark:text-blue-400 dark:hover:bg-blue-800",title:"æµ‹è¯•è¿æ¥",onClick:C=>Ze(r)},[...e[130]||(e[130]=[t("i",{class:"fas fa-vial"},null,-1)])],8,Nr),t("button",{class:"rounded-lg bg-gray-100 p-2 text-gray-600 transition-colors hover:bg-gray-200 dark:bg-gray-700 dark:text-gray-400 dark:hover:bg-gray-600",title:"ç¼–è¾‘",onClick:C=>Ye(r)},[...e[131]||(e[131]=[t("i",{class:"fas fa-edit"},null,-1)])],8,Wr),t("button",{class:"rounded-lg bg-red-100 p-2 text-red-600 transition-colors hover:bg-red-200 dark:bg-red-900 dark:text-red-400 dark:hover:bg-red-800",title:"åˆ é™¤",onClick:C=>Je(r.id)},[...e[132]||(e[132]=[t("i",{class:"fas fa-trash"},null,-1)])],8,zr)])])]))),128))])):(c(),g("div",Hr,' æš‚æ— é…ç½®çš„é€šçŸ¥å¹³å°ï¼Œè¯·ç‚¹å‡»"æ·»åŠ å¹³å°"æŒ‰é’®æ·»åŠ  '))]),t("div",Gr,[e[136]||(e[136]=t("h2",{class:"mb-4 text-lg font-semibold text-gray-800 dark:text-gray-200"},"é«˜çº§è®¾ç½®",-1)),t("div",Qr,[t("div",null,[e[133]||(e[133]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," æœ€å¤§é‡è¯•æ¬¡æ•° ",-1)),y(t("input",{"onUpdate:modelValue":e[18]||(e[18]=r=>V.value.retrySettings.maxRetries=r),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white sm:text-sm",max:"10",min:"0",type:"number",onChange:ce},null,544),[[E,V.value.retrySettings.maxRetries,void 0,{number:!0}]])]),t("div",null,[e[134]||(e[134]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," é‡è¯•å»¶è¿Ÿ (æ¯«ç§’) ",-1)),y(t("input",{"onUpdate:modelValue":e[19]||(e[19]=r=>V.value.retrySettings.retryDelay=r),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white sm:text-sm",max:"10000",min:"100",step:"100",type:"number",onChange:ce},null,544),[[E,V.value.retrySettings.retryDelay,void 0,{number:!0}]])]),t("div",null,[e[135]||(e[135]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," è¶…æ—¶æ—¶é—´ (æ¯«ç§’) ",-1)),y(t("input",{"onUpdate:modelValue":e[20]||(e[20]=r=>V.value.retrySettings.timeout=r),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white sm:text-sm",max:"30000",min:"1000",step:"1000",type:"number",onChange:ce},null,544),[[E,V.value.retrySettings.timeout,void 0,{number:!0}]])])])]),t("div",{class:"mt-6 text-center"},[t("button",{class:"rounded-lg bg-green-600 px-6 py-3 text-white shadow-lg transition-all hover:bg-green-700 hover:shadow-xl",onClick:Ke},[...e[137]||(e[137]=[t("i",{class:"fas fa-paper-plane mr-2"},null,-1),b(" å‘é€æµ‹è¯•é€šçŸ¥ ",-1)])])])],512),[[Be,R.value==="webhook"]]),y(t("div",null,[t("div",Yr,[e[142]||(e[142]=t("h2",{class:"mb-4 text-lg font-semibold text-gray-800 dark:text-gray-200"},"æ•°æ®æ¦‚è§ˆ",-1)),t("div",Jr,[t("div",Xr,[t("div",Zr,k(L.value.apiKeys),1),e[138]||(e[138]=t("div",{class:"text-sm text-gray-600 dark:text-gray-400"},"API Keys",-1))]),t("div",es,[t("div",ts,k(L.value.claudeAccounts),1),e[139]||(e[139]=t("div",{class:"text-sm text-gray-600 dark:text-gray-400"},"Claudeè´¦æˆ·",-1))]),t("div",as,[t("div",rs,k(L.value.openaiAccounts),1),e[140]||(e[140]=t("div",{class:"text-sm text-gray-600 dark:text-gray-400"},"OpenAIè´¦æˆ·",-1))]),t("div",ss,[t("div",ls,k(L.value.systemConfig),1),e[141]||(e[141]=t("div",{class:"text-sm text-gray-600 dark:text-gray-400"},"ç³»ç»Ÿé…ç½®",-1))])]),t("div",os,[t("div",ns,[t("div",is,[t("div",ds,[t("div",{class:H(["mr-2 h-3 w-3 rounded-full",L.value.is2FAEnabled?"bg-green-500":"bg-red-500"])},null,2),t("span",us," 2FAçŠ¶æ€: "+k(L.value.is2FAEnabled?"å·²å¯ç”¨":"æœªå¯ç”¨"),1)])]),L.value.lastExport?(c(),g("div",gs," æœ€åå¯¼å‡º: "+k(At(L.value.lastExport)),1)):S("",!0)])])]),L.value.is2FAEnabled?S("",!0):(c(),g("div",cs,[t("div",{class:"rounded-lg border border-yellow-200 bg-yellow-50 p-4 dark:border-yellow-800 dark:bg-yellow-900/20"},[e[143]||(e[143]=te('<div class="flex items-center" data-v-3d84849f><svg class="mr-3 h-5 w-5 text-yellow-600" fill="currentColor" viewBox="0 0 20 20" data-v-3d84849f><path clip-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" fill-rule="evenodd" data-v-3d84849f></path></svg><div data-v-3d84849f><h3 class="font-medium text-yellow-800 dark:text-yellow-200" data-v-3d84849f>éœ€è¦å¯ç”¨2FA</h3><p class="mt-1 text-sm text-yellow-700 dark:text-yellow-300" data-v-3d84849f> æ•°æ®å¯¼å‡ºç­‰æ•æ„Ÿæ“ä½œéœ€è¦åŒå› ç´ è®¤è¯ä¿æŠ¤ï¼Œè¯·å…ˆè®¾ç½®2FAã€‚ </p></div></div>',1)),t("div",{class:"mt-3"},[t("button",{class:"rounded-md bg-yellow-600 px-4 py-2 text-sm font-medium text-white hover:bg-yellow-700",onClick:bt}," è®¾ç½®2FA ")])])])),t("div",fs,[t("div",ps,[e[145]||(e[145]=te('<div class="mb-4 flex items-center" data-v-3d84849f><svg class="mr-3 h-8 w-8 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-3d84849f><path d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" data-v-3d84849f></path></svg><h3 class="text-lg font-semibold text-gray-800 dark:text-gray-200" data-v-3d84849f>æ•°æ®å¯¼å‡º</h3></div><p class="mb-4 text-sm text-gray-600 dark:text-gray-400" data-v-3d84849f> å°†å½“å‰æ•°æ®åº“ä¸­çš„æ‰€æœ‰æ•°æ®å¯¼å‡ºä¸ºåŠ å¯†çš„ZIPæ–‡ä»¶ </p>',2)),t("div",ys,[t("label",bs,[y(t("input",{"onUpdate:modelValue":e[21]||(e[21]=r=>De.value.includeStats=r),class:"rounded border-gray-300 text-blue-600 focus:ring-blue-500",type:"checkbox"},null,512),[[G,De.value.includeStats]]),e[144]||(e[144]=t("span",{class:"ml-2 text-sm text-gray-700 dark:text-gray-300"},"åŒ…å«ä½¿ç”¨ç»Ÿè®¡",-1))])]),t("button",{class:"w-full rounded-md bg-blue-600 px-4 py-2 font-medium text-white transition-colors hover:bg-blue-700 disabled:bg-gray-400",disabled:!L.value.is2FAEnabled||be.value,onClick:kt},[be.value?(c(),g("span",xs,"å¯¼å‡ºä¸­...")):(c(),g("span",vs,"å¼€å§‹å¯¼å‡º"))],8,ms)]),t("div",ks,[e[149]||(e[149]=te('<div class="mb-4 flex items-center" data-v-3d84849f><svg class="mr-3 h-8 w-8 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-3d84849f><path d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" data-v-3d84849f></path></svg><h3 class="text-lg font-semibold text-gray-800 dark:text-gray-200" data-v-3d84849f>æ•°æ®å¯¼å…¥</h3></div><p class="mb-4 text-sm text-gray-600 dark:text-gray-400" data-v-3d84849f> ä»å¯¼å‡ºçš„ZIPæ–‡ä»¶æ¢å¤æ•°æ®åˆ°å½“å‰æ•°æ®åº“ </p>',2)),t("div",hs,[t("div",null,[e[147]||(e[147]=t("label",{class:"mb-2 block text-sm font-medium text-gray-700 dark:text-gray-300"}," å†²çªå¤„ç†ç­–ç•¥ ",-1)),y(t("select",{"onUpdate:modelValue":e[22]||(e[22]=r=>Ie.value.conflictStrategy=r),class:"w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-gray-900 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100"},[...e[146]||(e[146]=[t("option",{value:"skip"},"è·³è¿‡å·²å­˜åœ¨çš„è®°å½•",-1),t("option",{value:"overwrite"},"è¦†ç›–å·²å­˜åœ¨çš„è®°å½•",-1),t("option",{value:"merge"},"æ™ºèƒ½åˆå¹¶è®°å½•",-1)])],512),[[ke,Ie.value.conflictStrategy]])]),t("div",null,[e[148]||(e[148]=t("label",{class:"mb-2 block text-sm font-medium text-gray-700 dark:text-gray-300"}," é€‰æ‹©æ–‡ä»¶ ",-1)),t("input",{ref_key:"importFileInput",ref:$e,accept:".zip,.json",class:"w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-gray-900 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100",type:"file",onChange:ht},null,544)])]),t("button",{class:"w-full rounded-md bg-green-600 px-4 py-2 font-medium text-white transition-colors hover:bg-green-700 disabled:bg-gray-400",disabled:!L.value.is2FAEnabled||!xe.value||me.value,onClick:wt},[me.value?(c(),g("span",Ts,"å¯¼å…¥ä¸­...")):(c(),g("span",Cs,"å¼€å§‹å¯¼å…¥"))],8,ws)]),t("div",As,[e[152]||(e[152]=te('<div class="mb-4 flex items-center" data-v-3d84849f><svg class="mr-3 h-8 w-8 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-3d84849f><path d="M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" data-v-3d84849f></path></svg><h3 class="text-lg font-semibold text-gray-800 dark:text-gray-200" data-v-3d84849f>æ•°æ®åº“è¿ç§»</h3></div><p class="mb-4 text-sm text-gray-600 dark:text-gray-400" data-v-3d84849f> å°†æ•°æ®è¿ç§»åˆ°å…¶ä»–æ•°æ®åº“ç³»ç»Ÿï¼ˆMongoDBã€MySQLã€PostgreSQLï¼‰ </p>',2)),t("div",Ss,[t("label",Ds,[y(t("input",{"onUpdate:modelValue":e[23]||(e[23]=r=>ve.value.validateOnly=r),class:"rounded border-gray-300 text-purple-600 focus:ring-purple-500",type:"checkbox"},null,512),[[G,ve.value.validateOnly]]),e[150]||(e[150]=t("span",{class:"ml-2 text-sm text-gray-700 dark:text-gray-300"},"ä»…éªŒè¯ï¼ˆä¸æ‰§è¡Œè¿ç§»ï¼‰",-1))]),t("div",null,[e[151]||(e[151]=t("label",{class:"mb-2 block text-sm font-medium text-gray-700 dark:text-gray-300"}," ç›®æ ‡æ•°æ®åº“é…ç½®æ–‡ä»¶ ",-1)),t("input",{ref_key:"migrationConfigInput",ref:yt,accept:".json",class:"w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-gray-900 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100",type:"file",onChange:Tt},null,544)])]),t("button",{class:"w-full rounded-md bg-purple-600 px-4 py-2 font-medium text-white transition-colors hover:bg-purple-700 disabled:bg-gray-400",disabled:!L.value.is2FAEnabled||!Ne.value||Le.value,onClick:Ct},[Le.value?(c(),g("span",_s,"è¿ç§»ä¸­...")):(c(),g("span",Us,"å¼€å§‹è¿ç§»"))],8,Is)])])],512),[[Be,R.value==="data-management"]]),y(t("div",null,[t("div",Rs,[t("div",Es,[e[154]||(e[154]=t("div",null,[t("h2",{class:"text-lg font-semibold text-gray-800 dark:text-gray-200"}," å¯ç”¨è¯·æ±‚æ—¥å¿—è®°å½• "),t("p",{class:"mt-1 text-sm text-gray-600 dark:text-gray-400"}," è®°å½•æ‰€æœ‰APIè¯·æ±‚çš„è¯¦ç»†ä¿¡æ¯ï¼Œä¾¿äºç›‘æ§å’Œè°ƒè¯• ")],-1)),t("label",Fs,[y(t("input",{"onUpdate:modelValue":e[24]||(e[24]=r=>p(A).enabled=r),class:"peer sr-only",type:"checkbox",onChange:ee},null,544),[[G,p(A).enabled]]),e[153]||(e[153]=t("div",{class:"peer h-6 w-11 rounded-full bg-gray-200 after:absolute after:left-[2px] after:top-[2px] after:h-5 after:w-5 after:rounded-full after:border after:border-gray-300 after:bg-white after:transition-all after:content-[''] peer-checked:bg-blue-600 peer-checked:after:translate-x-full peer-checked:after:border-white peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:border-gray-600 dark:bg-gray-700 dark:peer-focus:ring-blue-800"},null,-1))])])]),t("div",Bs,[e[161]||(e[161]=t("h2",{class:"mb-4 text-lg font-semibold text-gray-800 dark:text-gray-200"},"æ—¥å¿—é…ç½®",-1)),t("div",Os,[t("div",null,[e[156]||(e[156]=t("label",{class:"mb-2 block text-sm font-medium text-gray-700 dark:text-gray-300"}," æ—¥å¿—çº§åˆ« ",-1)),y(t("select",{"onUpdate:modelValue":e[25]||(e[25]=r=>p(A).level=r),class:"w-full rounded-lg border border-gray-300 bg-white px-3 py-2 text-gray-900 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white",onChange:ee},[...e[155]||(e[155]=[t("option",{value:"error"},"é”™è¯¯ (Error)",-1),t("option",{value:"warn"},"è­¦å‘Š (Warning)",-1),t("option",{value:"info"},"ä¿¡æ¯ (Info)",-1),t("option",{value:"debug"},"è°ƒè¯• (Debug)",-1)])],544),[[ke,p(A).level]])]),t("div",null,[e[157]||(e[157]=t("label",{class:"mb-2 block text-sm font-medium text-gray-700 dark:text-gray-300"}," æ—¥å¿—ä¿ç•™å¤©æ•° ",-1)),y(t("input",{"onUpdate:modelValue":e[26]||(e[26]=r=>p(A).retentionDays=r),class:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white",max:"365",min:"1",type:"number",onChange:ee},null,544),[[E,p(A).retentionDays,void 0,{number:!0}]]),e[158]||(e[158]=t("p",{class:"mt-1 text-xs text-gray-500 dark:text-gray-400"}," è¶…è¿‡æŒ‡å®šå¤©æ•°çš„æ—¥å¿—å°†è¢«è‡ªåŠ¨æ¸…ç† ",-1))]),t("div",null,[e[159]||(e[159]=t("label",{class:"mb-2 block text-sm font-medium text-gray-700 dark:text-gray-300"}," å•ä¸ªæ—¥å¿—æ–‡ä»¶æœ€å¤§å¤§å° (MB) ",-1)),y(t("input",{"onUpdate:modelValue":e[27]||(e[27]=r=>p(A).maxFileSize=r),class:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white",max:"1000",min:"1",type:"number",onChange:ee},null,544),[[E,p(A).maxFileSize,void 0,{number:!0}]])]),t("div",null,[e[160]||(e[160]=t("label",{class:"mb-2 block text-sm font-medium text-gray-700 dark:text-gray-300"}," æœ€å¤§æ—¥å¿—æ–‡ä»¶æ•° ",-1)),y(t("input",{"onUpdate:modelValue":e[28]||(e[28]=r=>p(A).maxFiles=r),class:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white",max:"100",min:"1",type:"number",onChange:ee},null,544),[[E,p(A).maxFiles,void 0,{number:!0}]])])])]),t("div",js,[e[173]||(e[173]=t("h2",{class:"mb-4 text-lg font-semibold text-gray-800 dark:text-gray-200"}," è®°å½•å†…å®¹é…ç½® ",-1)),t("div",qs,[t("div",Ps,[t("div",Vs,[e[163]||(e[163]=t("div",null,[t("h3",{class:"font-medium text-gray-700 dark:text-gray-300"},"è¯·æ±‚å¤´"),t("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"è®°å½•HTTPè¯·æ±‚å¤´ä¿¡æ¯")],-1)),t("label",Ks,[y(t("input",{"onUpdate:modelValue":e[29]||(e[29]=r=>p(A).includeHeaders=r),class:"peer sr-only",type:"checkbox",onChange:ee},null,544),[[G,p(A).includeHeaders]]),e[162]||(e[162]=t("div",{class:"peer h-5 w-9 rounded-full bg-gray-200 after:absolute after:left-[2px] after:top-[2px] after:h-4 after:w-4 after:rounded-full after:border after:border-gray-300 after:bg-white after:transition-all after:content-[''] peer-checked:bg-green-600 peer-checked:after:translate-x-full peer-checked:after:border-white dark:border-gray-600 dark:bg-gray-700"},null,-1))])]),t("div",Ms,[e[165]||(e[165]=t("div",null,[t("h3",{class:"font-medium text-gray-700 dark:text-gray-300"},"è¯·æ±‚ä½“"),t("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"è®°å½•è¯·æ±‚ä½“å†…å®¹")],-1)),t("label",$s,[y(t("input",{"onUpdate:modelValue":e[30]||(e[30]=r=>p(A).includeBody=r),class:"peer sr-only",type:"checkbox",onChange:ee},null,544),[[G,p(A).includeBody]]),e[164]||(e[164]=t("div",{class:"peer h-5 w-9 rounded-full bg-gray-200 after:absolute after:left-[2px] after:top-[2px] after:h-4 after:w-4 after:rounded-full after:border after:border-gray-300 after:bg-white after:transition-all after:content-[''] peer-checked:bg-green-600 peer-checked:after:translate-x-full peer-checked:after:border-white dark:border-gray-600 dark:bg-gray-700"},null,-1))])]),t("div",Ls,[e[167]||(e[167]=t("div",null,[t("h3",{class:"font-medium text-gray-700 dark:text-gray-300"},"å“åº”æ•°æ®"),t("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"è®°å½•APIå“åº”å†…å®¹")],-1)),t("label",Ns,[y(t("input",{"onUpdate:modelValue":e[31]||(e[31]=r=>p(A).includeResponse=r),class:"peer sr-only",type:"checkbox",onChange:ee},null,544),[[G,p(A).includeResponse]]),e[166]||(e[166]=t("div",{class:"peer h-5 w-9 rounded-full bg-gray-200 after:absolute after:left-[2px] after:top-[2px] after:h-4 after:w-4 after:rounded-full after:border after:border-gray-300 after:bg-white after:transition-all after:content-[''] peer-checked:bg-green-600 peer-checked:after:translate-x-full peer-checked:after:border-white dark:border-gray-600 dark:bg-gray-700"},null,-1))])]),t("div",Ws,[e[169]||(e[169]=t("div",null,[t("h3",{class:"font-medium text-gray-700 dark:text-gray-300"},"é”™è¯¯è¯¦æƒ…"),t("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"è®°å½•é”™è¯¯å †æ ˆä¿¡æ¯")],-1)),t("label",zs,[y(t("input",{"onUpdate:modelValue":e[32]||(e[32]=r=>p(A).includeErrors=r),class:"peer sr-only",type:"checkbox",onChange:ee},null,544),[[G,p(A).includeErrors]]),e[168]||(e[168]=t("div",{class:"peer h-5 w-9 rounded-full bg-gray-200 after:absolute after:left-[2px] after:top-[2px] after:h-4 after:w-4 after:rounded-full after:border after:border-gray-300 after:bg-white after:transition-all after:content-[''] peer-checked:bg-green-600 peer-checked:after:translate-x-full peer-checked:after:border-white dark:border-gray-600 dark:bg-gray-700"},null,-1))])])]),t("div",Hs,[e[172]||(e[172]=t("h3",{class:"font-medium text-gray-700 dark:text-gray-300"},"æ•æ„Ÿæ•°æ®è¿‡æ»¤",-1)),t("div",Gs,[t("div",Qs,[t("label",Ys,[y(t("input",{"onUpdate:modelValue":e[33]||(e[33]=r=>p(A).filterSensitiveData=r),class:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-2 focus:ring-blue-500 focus:ring-offset-0",type:"checkbox",onChange:ee},null,544),[[G,p(A).filterSensitiveData]]),e[170]||(e[170]=t("span",{class:"ml-3 flex items-center text-sm font-medium text-gray-700 dark:text-gray-300"},[t("i",{class:"fas fa-shield-alt mr-2 text-gray-400"}),b(" å¯ç”¨æ•æ„Ÿæ•°æ®è¿‡æ»¤ ")],-1))])]),e[171]||(e[171]=t("p",{class:"mt-2 text-sm text-gray-500 dark:text-gray-400"}," è‡ªåŠ¨è¿‡æ»¤æˆ–è„±æ•APIå¯†é’¥ã€ä»¤ç‰Œã€å¯†ç ç­‰æ•æ„Ÿä¿¡æ¯ ",-1))])])])]),t("div",Js,[e[186]||(e[186]=t("h2",{class:"mb-4 text-lg font-semibold text-gray-800 dark:text-gray-200"}," æ—¥å¿—ç»Ÿè®¡ä¿¡æ¯ ",-1)),t("div",Xs,[t("div",Zs,[t("div",el,[t("div",null,[e[174]||(e[174]=t("p",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},"ä»Šæ—¥æ—¥å¿—",-1)),t("p",tl,k(Re.value.todayLogs||0),1)]),e[175]||(e[175]=t("i",{class:"fas fa-calendar-day text-xl text-blue-500"},null,-1))]),e[176]||(e[176]=t("p",{class:"mt-1 text-xs text-gray-500 dark:text-gray-400"},"æ¡è®°å½•",-1))]),t("div",al,[t("div",rl,[t("div",null,[e[177]||(e[177]=t("p",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},"æ€»æ—¥å¿—æ•°",-1)),t("p",sl,k(Re.value.totalLogs||0),1)]),e[178]||(e[178]=t("i",{class:"fas fa-file-alt text-xl text-green-500"},null,-1))]),e[179]||(e[179]=t("p",{class:"mt-1 text-xs text-gray-500 dark:text-gray-400"},"æ¡è®°å½•",-1))]),t("div",ll,[t("div",ol,[t("div",null,[e[180]||(e[180]=t("p",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},"å­˜å‚¨å ç”¨",-1)),t("p",nl,k(Dt(Re.value.storageUsed||0)),1)]),e[181]||(e[181]=t("i",{class:"fas fa-hdd text-xl text-orange-500"},null,-1))]),e[182]||(e[182]=t("p",{class:"mt-1 text-xs text-gray-500 dark:text-gray-400"},"ç£ç›˜ä½¿ç”¨",-1))]),t("div",il,[t("div",dl,[t("div",null,[e[183]||(e[183]=t("p",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},"é”™è¯¯æ—¥å¿—",-1)),t("p",ul,k(Re.value.errorLogs||0),1)]),e[184]||(e[184]=t("i",{class:"fas fa-exclamation-triangle text-xl text-red-500"},null,-1))]),e[185]||(e[185]=t("p",{class:"mt-1 text-xs text-gray-500 dark:text-gray-400"},"æ¡é”™è¯¯",-1))])])]),t("div",gl,[t("div",cl,[t("button",{class:H(["btn btn-primary px-6 py-3",{"cursor-not-allowed opacity-50":p(ae)}]),disabled:p(ae),onClick:ee},[p(ae)?(c(),g("div",pl)):(c(),g("i",yl)),b(" "+k(p(ae)?"ä¿å­˜ä¸­...":"ä¿å­˜é…ç½®"),1)],10,fl),ct(f,{class:"btn bg-green-600 px-6 py-3 text-white hover:bg-green-700 focus:ring-green-500",to:"/request-logs"},{default:ft(()=>[...e[187]||(e[187]=[t("i",{class:"fas fa-eye mr-2"},null,-1),b(" æŸ¥çœ‹æ—¥å¿— ",-1)])]),_:1}),t("button",{class:"btn bg-yellow-600 px-6 py-3 text-white hover:bg-yellow-700 focus:ring-yellow-500",disabled:Ee.value,onClick:St},[Ee.value?(c(),g("div",ml)):(c(),g("i",xl)),b(" "+k(Ee.value?"æ¸…ç†ä¸­...":"æ¸…ç†æ—§æ—¥å¿—"),1)],8,bl)]),p(A).updatedAt?(c(),g("div",vl,[e[188]||(e[188]=t("i",{class:"fas fa-clock mr-1"},null,-1)),b(" æœ€åæ›´æ–°ï¼š"+k(p(ze)(p(A).updatedAt)),1)])):S("",!0)])],512),[[Be,R.value==="request-logging"]])]))])]),de.value?(c(),g("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm transition-all duration-300 ease-out",onClick:fe},[t("div",{class:"relative mx-4 w-full max-w-2xl overflow-hidden rounded-2xl bg-white shadow-2xl transition-all duration-300 ease-out dark:bg-gray-800",onClick:e[55]||(e[55]=Ft(()=>{},["stop"]))},[t("div",kl,[t("div",hl,[t("div",wl,[e[190]||(e[190]=t("div",{class:"flex h-10 w-10 items-center justify-center rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 text-white shadow-lg"},[t("i",{class:"fas fa-bell"})],-1)),t("div",null,[t("h3",Tl,k(W.value?"ç¼–è¾‘":"æ·»åŠ ")+"é€šçŸ¥å¹³å° ",1),t("p",Cl," é…ç½®"+k(W.value?"å¹¶æ›´æ–°":"æ–°çš„")+"Webhooké€šçŸ¥æ¸ é“ ",1)])]),t("button",{class:"rounded-lg p-2 text-gray-400 transition-colors hover:bg-gray-100 hover:text-gray-600 dark:hover:bg-gray-700 dark:hover:text-gray-300",onClick:fe},[...e[191]||(e[191]=[t("i",{class:"fas fa-times text-lg"},null,-1)])])])]),t("div",Al,[t("div",Sl,[t("div",null,[e[195]||(e[195]=t("label",{class:"mb-2 flex items-center text-sm font-medium text-gray-700 dark:text-gray-300"},[t("i",{class:"fas fa-layer-group mr-2 text-gray-400"}),b(" å¹³å°ç±»å‹ ")],-1)),t("div",Dl,[y(t("select",{"onUpdate:modelValue":e[34]||(e[34]=r=>s.value.type=r),class:"w-full appearance-none rounded-xl border border-gray-300 bg-white px-4 py-3 pr-10 text-gray-900 shadow-sm transition-all focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20 dark:border-gray-600 dark:bg-gray-700 dark:text-white",disabled:W.value},[...e[192]||(e[192]=[te('<option value="wechat_work" data-v-3d84849f>ğŸŸ¢ ä¼ä¸šå¾®ä¿¡</option><option value="dingtalk" data-v-3d84849f>ğŸ”µ é’‰é’‰</option><option value="feishu" data-v-3d84849f>ğŸŸ¦ é£ä¹¦</option><option value="slack" data-v-3d84849f>ğŸŸ£ Slack</option><option value="discord" data-v-3d84849f>ğŸŸª Discord</option><option value="telegram" data-v-3d84849f>âœˆï¸ Telegram</option><option value="bark" data-v-3d84849f>ğŸ”” Bark</option><option value="smtp" data-v-3d84849f>ğŸ“§ é‚®ä»¶é€šçŸ¥</option><option value="custom" data-v-3d84849f>âš™ï¸ è‡ªå®šä¹‰</option>',9)])],8,Il),[[ke,s.value.type]]),e[193]||(e[193]=t("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3"},[t("i",{class:"fas fa-chevron-down text-gray-400"})],-1))]),W.value?(c(),g("p",_l,[...e[194]||(e[194]=[t("i",{class:"fas fa-info-circle mr-1"},null,-1),b(" ç¼–è¾‘æ¨¡å¼ä¸‹ä¸èƒ½æ›´æ”¹å¹³å°ç±»å‹ ",-1)])])):S("",!0)]),t("div",null,[e[196]||(e[196]=t("label",{class:"mb-2 flex items-center text-sm font-medium text-gray-700 dark:text-gray-300"},[t("i",{class:"fas fa-tag mr-2 text-gray-400"}),b(" åç§° "),t("span",{class:"ml-2 text-xs text-gray-500"},"(å¯é€‰)")],-1)),y(t("input",{"onUpdate:modelValue":e[35]||(e[35]=r=>s.value.name=r),class:"w-full rounded-xl border border-gray-300 bg-white px-4 py-3 text-gray-900 shadow-sm transition-all placeholder:text-gray-400 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder:text-gray-500",placeholder:"ä¾‹å¦‚ï¼šè¿ç»´ç¾¤é€šçŸ¥ã€å¼€å‘æµ‹è¯•ç¾¤",type:"text"},null,512),[[E,s.value.name]])]),s.value.type!=="bark"&&s.value.type!=="smtp"&&s.value.type!=="telegram"?(c(),g("div",Ul,[e[200]||(e[200]=t("label",{class:"mb-2 flex items-center text-sm font-medium text-gray-700 dark:text-gray-300"},[t("i",{class:"fas fa-link mr-2 text-gray-400"}),b(" Webhook URL "),t("span",{class:"ml-1 text-xs text-red-500"},"*")],-1)),t("div",Rl,[y(t("input",{"onUpdate:modelValue":e[36]||(e[36]=r=>s.value.url=r),class:H(["w-full rounded-xl border border-gray-300 bg-white px-4 py-3 pr-10 font-mono text-sm text-gray-900 shadow-sm transition-all placeholder:text-gray-400 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder:text-gray-500",{"border-red-500 focus:border-red-500 focus:ring-red-500/20":M.value,"border-green-500 focus:border-green-500 focus:ring-green-500/20":J.value}]),placeholder:"https://...",required:"",type:"url",onInput:Qe},null,34),[[E,s.value.url]]),J.value?(c(),g("div",El,[...e[197]||(e[197]=[t("i",{class:"fas fa-check-circle text-green-500"},null,-1)])])):S("",!0),M.value?(c(),g("div",Fl,[...e[198]||(e[198]=[t("i",{class:"fas fa-exclamation-circle text-red-500"},null,-1)])])):S("",!0)]),o(s.value.type)?(c(),g("div",Bl,[e[199]||(e[199]=t("i",{class:"fas fa-info-circle mr-2 mt-0.5 text-blue-600 dark:text-blue-400"},null,-1)),t("p",Ol,k(o(s.value.type)),1)])):S("",!0)])):S("",!0),s.value.type==="telegram"?(c(),g("div",jl,[t("div",null,[e[201]||(e[201]=t("label",{class:"mb-2 flex items-center text-sm font-medium text-gray-700 dark:text-gray-300"},[t("i",{class:"fas fa-robot mr-2 text-gray-400"}),b(" Bot Token "),t("span",{class:"ml-1 text-xs text-red-500"},"*")],-1)),y(t("input",{"onUpdate:modelValue":e[37]||(e[37]=r=>s.value.botToken=r),class:"w-full rounded-xl border border-gray-300 bg-white px-4 py-3 font-mono text-sm text-gray-900 shadow-sm transition-all placeholder:text-gray-400 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder:text-gray-500",placeholder:"ä¾‹å¦‚ï¼š123456789:ABCDEFghijk-xyz",required:"",type:"text"},null,512),[[E,s.value.botToken]]),e[202]||(e[202]=t("p",{class:"mt-1 text-xs text-gray-500 dark:text-gray-400"}," åœ¨ Telegram çš„ @BotFather ä¸­åˆ›å»ºæœºå™¨äººåè·å¾—çš„ Token ",-1))]),t("div",null,[e[203]||(e[203]=t("label",{class:"mb-2 flex items-center text-sm font-medium text-gray-700 dark:text-gray-300"},[t("i",{class:"fas fa-comments mr-2 text-gray-400"}),b(" Chat ID "),t("span",{class:"ml-1 text-xs text-red-500"},"*")],-1)),y(t("input",{"onUpdate:modelValue":e[38]||(e[38]=r=>s.value.chatId=r),class:"w-full rounded-xl border border-gray-300 bg-white px-4 py-3 font-mono text-sm text-gray-900 shadow-sm transition-all placeholder:text-gray-400 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder:text-gray-500",placeholder:"ä¾‹å¦‚ï¼š123456789 æˆ– -1001234567890",required:"",type:"text"},null,512),[[E,s.value.chatId]]),e[204]||(e[204]=t("p",{class:"mt-1 text-xs text-gray-500 dark:text-gray-400"}," å¯ä½¿ç”¨ @userinfobotã€@RawDataBot æˆ– API è·å–èŠå¤©/é¢‘é“çš„ Chat ID ",-1))]),t("div",null,[e[205]||(e[205]=t("label",{class:"mb-2 flex items-center text-sm font-medium text-gray-700 dark:text-gray-300"},[t("i",{class:"fas fa-globe mr-2 text-gray-400"}),b(" API åŸºç¡€åœ°å€ "),t("span",{class:"ml-2 text-xs text-gray-500"},"(å¯é€‰)")],-1)),y(t("input",{"onUpdate:modelValue":e[39]||(e[39]=r=>s.value.apiBaseUrl=r),class:"w-full rounded-xl border border-gray-300 bg-white px-4 py-3 font-mono text-sm text-gray-900 shadow-sm transition-all placeholder:text-gray-400 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder:text-gray-500",placeholder:"é»˜è®¤: https://api.telegram.org",type:"url"},null,512),[[E,s.value.apiBaseUrl]]),e[206]||(e[206]=t("p",{class:"mt-1 text-xs text-gray-500 dark:text-gray-400"}," ä½¿ç”¨è‡ªå»º Bot API æ—¶å¯è¦†ç›–é»˜è®¤åŸŸåï¼Œéœ€ä»¥ http æˆ– https å¼€å¤´ ",-1))]),t("div",null,[e[207]||(e[207]=t("label",{class:"mb-2 flex items-center text-sm font-medium text-gray-700 dark:text-gray-300"},[t("i",{class:"fas fa-route mr-2 text-gray-400"}),b(" ä»£ç†åœ°å€ "),t("span",{class:"ml-2 text-xs text-gray-500"},"(å¯é€‰)")],-1)),y(t("input",{"onUpdate:modelValue":e[40]||(e[40]=r=>s.value.proxyUrl=r),class:"w-full rounded-xl border border-gray-300 bg-white px-4 py-3 font-mono text-sm text-gray-900 shadow-sm transition-all placeholder:text-gray-400 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder:text-gray-500",placeholder:"ä¾‹å¦‚ï¼šsocks5://user:pass@127.0.0.1:1080",type:"text"},null,512),[[E,s.value.proxyUrl]]),e[208]||(e[208]=t("p",{class:"mt-1 text-xs text-gray-500 dark:text-gray-400"}," æ”¯æŒ httpã€httpsã€socks4/4a/5 ä»£ç†ï¼Œç•™ç©ºåˆ™ç›´æ¥è¿æ¥ Telegram å®˜æ–¹ API ",-1))]),e[209]||(e[209]=t("div",{class:"flex items-start rounded-lg bg-blue-50 p-3 text-sm text-blue-700 dark:bg-blue-900/20 dark:text-blue-300"},[t("i",{class:"fas fa-info-circle mr-2 mt-0.5"}),t("div",null,"æœºå™¨äººéœ€å…ˆåŠ å…¥å¯¹åº”ç¾¤ç»„æˆ–é¢‘é“å¹¶æˆäºˆå‘é€æ¶ˆæ¯æƒé™ï¼Œé€šçŸ¥ä¼šä»¥çº¯æ–‡æœ¬æ–¹å¼å‘é€ã€‚")],-1))])):S("",!0),s.value.type==="bark"?(c(),g("div",ql,[t("div",null,[e[210]||(e[210]=t("label",{class:"mb-2 flex items-center text-sm font-medium text-gray-700 dark:text-gray-300"},[t("i",{class:"fas fa-key mr-2 text-gray-400"}),b(" è®¾å¤‡å¯†é’¥ (Device Key) "),t("span",{class:"ml-1 text-xs text-red-500"},"*")],-1)),y(t("input",{"onUpdate:modelValue":e[41]||(e[41]=r=>s.value.deviceKey=r),class:"w-full rounded-xl border border-gray-300 bg-white px-4 py-3 font-mono text-sm text-gray-900 shadow-sm transition-all placeholder:text-gray-400 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder:text-gray-500",placeholder:"ä¾‹å¦‚ï¼šaBcDeFgHiJkLmNoPqRsTuVwX",required:"",type:"text"},null,512),[[E,s.value.deviceKey]]),e[211]||(e[211]=t("p",{class:"mt-1 text-xs text-gray-500 dark:text-gray-400"}," åœ¨Bark Appä¸­æŸ¥çœ‹æ‚¨çš„æ¨é€å¯†é’¥ ",-1))]),t("div",null,[e[212]||(e[212]=t("label",{class:"mb-2 flex items-center text-sm font-medium text-gray-700 dark:text-gray-300"},[t("i",{class:"fas fa-server mr-2 text-gray-400"}),b(" æœåŠ¡å™¨åœ°å€ "),t("span",{class:"ml-2 text-xs text-gray-500"},"(å¯é€‰)")],-1)),y(t("input",{"onUpdate:modelValue":e[42]||(e[42]=r=>s.value.serverUrl=r),class:"w-full rounded-xl border border-gray-300 bg-white px-4 py-3 font-mono text-sm text-gray-900 shadow-sm transition-all placeholder:text-gray-400 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder:text-gray-500",placeholder:"é»˜è®¤: https://api.day.app/push",type:"url"},null,512),[[E,s.value.serverUrl]])]),t("div",null,[e[214]||(e[214]=t("label",{class:"mb-2 flex items-center text-sm font-medium text-gray-700 dark:text-gray-300"},[t("i",{class:"fas fa-flag mr-2 text-gray-400"}),b(" é€šçŸ¥çº§åˆ« ")],-1)),y(t("select",{"onUpdate:modelValue":e[43]||(e[43]=r=>s.value.level=r),class:"w-full appearance-none rounded-xl border border-gray-300 bg-white px-4 py-3 pr-10 text-gray-900 shadow-sm transition-all focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20 dark:border-gray-600 dark:bg-gray-700 dark:text-white"},[...e[213]||(e[213]=[te('<option value="" data-v-3d84849f>è‡ªåŠ¨ï¼ˆæ ¹æ®é€šçŸ¥ç±»å‹ï¼‰</option><option value="passive" data-v-3d84849f>è¢«åŠ¨</option><option value="active" data-v-3d84849f>é»˜è®¤</option><option value="timeSensitive" data-v-3d84849f>æ—¶æ•ˆæ€§</option><option value="critical" data-v-3d84849f>ç´§æ€¥</option>',5)])],512),[[ke,s.value.level]])]),t("div",null,[e[216]||(e[216]=t("label",{class:"mb-2 flex items-center text-sm font-medium text-gray-700 dark:text-gray-300"},[t("i",{class:"fas fa-volume-up mr-2 text-gray-400"}),b(" é€šçŸ¥å£°éŸ³ ")],-1)),y(t("select",{"onUpdate:modelValue":e[44]||(e[44]=r=>s.value.sound=r),class:"w-full appearance-none rounded-xl border border-gray-300 bg-white px-4 py-3 pr-10 text-gray-900 shadow-sm transition-all focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20 dark:border-gray-600 dark:bg-gray-700 dark:text-white"},[...e[215]||(e[215]=[te('<option value="" data-v-3d84849f>è‡ªåŠ¨ï¼ˆæ ¹æ®é€šçŸ¥ç±»å‹ï¼‰</option><option value="default" data-v-3d84849f>é»˜è®¤</option><option value="alarm" data-v-3d84849f>è­¦æŠ¥</option><option value="bell" data-v-3d84849f>é“ƒå£°</option><option value="birdsong" data-v-3d84849f>é¸Ÿé¸£</option><option value="electronic" data-v-3d84849f>ç”µå­éŸ³</option><option value="glass" data-v-3d84849f>ç»ç’ƒ</option><option value="horn" data-v-3d84849f>å–‡å­</option><option value="silence" data-v-3d84849f>é™éŸ³</option>',9)])],512),[[ke,s.value.sound]])]),t("div",null,[e[217]||(e[217]=t("label",{class:"mb-2 flex items-center text-sm font-medium text-gray-700 dark:text-gray-300"},[t("i",{class:"fas fa-folder mr-2 text-gray-400"}),b(" é€šçŸ¥åˆ†ç»„ "),t("span",{class:"ml-2 text-xs text-gray-500"},"(å¯é€‰)")],-1)),y(t("input",{"onUpdate:modelValue":e[45]||(e[45]=r=>s.value.group=r),class:"w-full rounded-xl border border-gray-300 bg-white px-4 py-3 text-gray-900 shadow-sm transition-all placeholder:text-gray-400 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder:text-gray-500",placeholder:"é»˜è®¤: claude-relay",type:"text"},null,512),[[E,s.value.group]])]),e[218]||(e[218]=t("div",{class:"mt-2 flex items-start rounded-lg bg-blue-50 p-3 dark:bg-blue-900/20"},[t("i",{class:"fas fa-info-circle mr-2 mt-0.5 text-blue-600 dark:text-blue-400"}),t("div",{class:"text-sm text-blue-700 dark:text-blue-300"},[t("p",null,"1. åœ¨iPhoneä¸Šå®‰è£…Bark App"),t("p",null,"2. æ‰“å¼€Appè·å–æ‚¨çš„è®¾å¤‡å¯†é’¥"),t("p",null,"3. å°†å¯†é’¥ç²˜è´´åˆ°ä¸Šæ–¹è¾“å…¥æ¡†")])],-1))])):S("",!0),s.value.type==="smtp"?(c(),g("div",Pl,[t("div",null,[e[219]||(e[219]=t("label",{class:"mb-2 flex items-center text-sm font-medium text-gray-700 dark:text-gray-300"},[t("i",{class:"fas fa-server mr-2 text-gray-400"}),b(" SMTP æœåŠ¡å™¨ "),t("span",{class:"ml-1 text-xs text-red-500"},"*")],-1)),y(t("input",{"onUpdate:modelValue":e[46]||(e[46]=r=>s.value.host=r),class:"w-full rounded-xl border border-gray-300 bg-white px-4 py-3 text-gray-900 shadow-sm transition-all placeholder:text-gray-400 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder:text-gray-500",placeholder:"ä¾‹å¦‚: smtp.gmail.com",required:"",type:"text"},null,512),[[E,s.value.host]])]),t("div",Vl,[t("div",null,[e[220]||(e[220]=t("label",{class:"mb-2 flex items-center text-sm font-medium text-gray-700 dark:text-gray-300"},[t("i",{class:"fas fa-plug mr-2 text-gray-400"}),b(" ç«¯å£ ")],-1)),y(t("input",{"onUpdate:modelValue":e[47]||(e[47]=r=>s.value.port=r),class:"w-full rounded-xl border border-gray-300 bg-white px-4 py-3 text-gray-900 shadow-sm transition-all focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20 dark:border-gray-600 dark:bg-gray-700 dark:text-white",max:"65535",min:"1",placeholder:"587",type:"number"},null,512),[[E,s.value.port,void 0,{number:!0}]]),e[221]||(e[221]=t("p",{class:"mt-1 text-xs text-gray-500 dark:text-gray-400"}," é»˜è®¤: 587 (TLS) æˆ– 465 (SSL) ",-1))]),t("div",null,[e[223]||(e[223]=t("label",{class:"mb-2 flex items-center text-sm font-medium text-gray-700 dark:text-gray-300"},[t("i",{class:"fas fa-shield-alt mr-2 text-gray-400"}),b(" åŠ å¯†æ–¹å¼ ")],-1)),y(t("select",{"onUpdate:modelValue":e[48]||(e[48]=r=>s.value.secure=r),class:"w-full appearance-none rounded-xl border border-gray-300 bg-white px-4 py-3 pr-10 text-gray-900 shadow-sm transition-all focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20 dark:border-gray-600 dark:bg-gray-700 dark:text-white"},[...e[222]||(e[222]=[t("option",{value:!1},"STARTTLS (ç«¯å£587)",-1),t("option",{value:!0},"SSL/TLS (ç«¯å£465)",-1)])],512),[[ke,s.value.secure]])])]),t("div",null,[e[224]||(e[224]=t("label",{class:"mb-2 flex items-center text-sm font-medium text-gray-700 dark:text-gray-300"},[t("i",{class:"fas fa-user mr-2 text-gray-400"}),b(" ç”¨æˆ·å "),t("span",{class:"ml-1 text-xs text-red-500"},"*")],-1)),y(t("input",{"onUpdate:modelValue":e[49]||(e[49]=r=>s.value.user=r),class:"w-full rounded-xl border border-gray-300 bg-white px-4 py-3 text-gray-900 shadow-sm transition-all placeholder:text-gray-400 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder:text-gray-500",placeholder:"user@example.com",required:"",type:"email"},null,512),[[E,s.value.user]])]),t("div",null,[e[225]||(e[225]=t("label",{class:"mb-2 flex items-center text-sm font-medium text-gray-700 dark:text-gray-300"},[t("i",{class:"fas fa-lock mr-2 text-gray-400"}),b(" å¯†ç  / åº”ç”¨å¯†ç  "),t("span",{class:"ml-1 text-xs text-red-500"},"*")],-1)),y(t("input",{"onUpdate:modelValue":e[50]||(e[50]=r=>s.value.pass=r),class:"w-full rounded-xl border border-gray-300 bg-white px-4 py-3 text-gray-900 shadow-sm transition-all placeholder:text-gray-400 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder:text-gray-500",placeholder:"é‚®ç®±å¯†ç æˆ–åº”ç”¨ä¸“ç”¨å¯†ç ",required:"",type:"password"},null,512),[[E,s.value.pass]]),e[226]||(e[226]=t("p",{class:"mt-1 text-xs text-gray-500 dark:text-gray-400"}," å»ºè®®ä½¿ç”¨åº”ç”¨ä¸“ç”¨å¯†ç ï¼Œè€Œéé‚®ç®±ç™»å½•å¯†ç  ",-1))]),t("div",null,[e[227]||(e[227]=t("label",{class:"mb-2 flex items-center text-sm font-medium text-gray-700 dark:text-gray-300"},[t("i",{class:"fas fa-paper-plane mr-2 text-gray-400"}),b(" å‘ä»¶äººé‚®ç®± "),t("span",{class:"ml-2 text-xs text-gray-500"},"(å¯é€‰)")],-1)),y(t("input",{"onUpdate:modelValue":e[51]||(e[51]=r=>s.value.from=r),class:"w-full rounded-xl border border-gray-300 bg-white px-4 py-3 text-gray-900 shadow-sm transition-all placeholder:text-gray-400 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder:text-gray-500",placeholder:"é»˜è®¤ä½¿ç”¨ç”¨æˆ·åé‚®ç®±",type:"email"},null,512),[[E,s.value.from]])]),t("div",null,[e[228]||(e[228]=t("label",{class:"mb-2 flex items-center text-sm font-medium text-gray-700 dark:text-gray-300"},[t("i",{class:"fas fa-envelope mr-2 text-gray-400"}),b(" æ”¶ä»¶äººé‚®ç®± "),t("span",{class:"ml-1 text-xs text-red-500"},"*")],-1)),y(t("input",{"onUpdate:modelValue":e[52]||(e[52]=r=>s.value.to=r),class:"w-full rounded-xl border border-gray-300 bg-white px-4 py-3 text-gray-900 shadow-sm transition-all placeholder:text-gray-400 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder:text-gray-500",placeholder:"admin@example.com",required:"",type:"email"},null,512),[[E,s.value.to]]),e[229]||(e[229]=t("p",{class:"mt-1 text-xs text-gray-500 dark:text-gray-400"},"æ¥æ”¶é€šçŸ¥çš„é‚®ç®±åœ°å€",-1))])])):S("",!0),s.value.type==="dingtalk"||s.value.type==="feishu"?(c(),g("div",Kl,[t("div",Ml,[t("div",$l,[t("label",Ll,[y(t("input",{id:"enableSign","onUpdate:modelValue":e[53]||(e[53]=r=>s.value.enableSign=r),class:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-2 focus:ring-blue-500 focus:ring-offset-0",type:"checkbox"},null,512),[[G,s.value.enableSign]]),e[230]||(e[230]=t("span",{class:"ml-3 flex items-center text-sm font-medium text-gray-700 dark:text-gray-300"},[t("i",{class:"fas fa-shield-alt mr-2 text-gray-400"}),b(" å¯ç”¨ç­¾åéªŒè¯ ")],-1))]),s.value.enableSign?(c(),g("span",Nl," å·²å¯ç”¨ ")):S("",!0)]),ct(Et,{"enter-active-class":"transition-all duration-200 ease-out","enter-from-class":"opacity-0 -translate-y-2","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition-all duration-150 ease-in","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 -translate-y-2"},{default:ft(()=>[s.value.enableSign?(c(),g("div",Wl,[e[231]||(e[231]=t("label",{class:"mb-2 block text-sm font-medium text-gray-700 dark:text-gray-300"}," ç­¾åå¯†é’¥ ",-1)),y(t("input",{"onUpdate:modelValue":e[54]||(e[54]=r=>s.value.secret=r),class:"w-full rounded-xl border border-gray-300 bg-white px-4 py-3 font-mono text-sm text-gray-900 shadow-sm transition-all placeholder:text-gray-400 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20 dark:border-gray-600 dark:bg-gray-800 dark:text-white dark:placeholder:text-gray-500",placeholder:"SEC...",type:"text"},null,512),[[E,s.value.secret]])])):S("",!0)]),_:1})])])):S("",!0)])]),t("div",zl,[t("div",Hl,[e[233]||(e[233]=t("div",{class:"text-xs text-gray-500 dark:text-gray-400"},[t("i",{class:"fas fa-asterisk mr-1 text-red-500"}),b(" å¿…å¡«é¡¹ ")],-1)),t("div",Gl,[t("button",{class:"group flex items-center rounded-xl border border-gray-300 bg-white px-4 py-2.5 text-sm font-medium text-gray-700 shadow-sm transition-all hover:bg-gray-50 hover:shadow-md dark:border-gray-600 dark:bg-gray-800 dark:text-gray-300 dark:hover:bg-gray-700",onClick:fe},[...e[232]||(e[232]=[t("i",{class:"fas fa-times mr-2 transition-transform group-hover:scale-110"},null,-1),b(" å–æ¶ˆ ",-1)])]),t("button",{class:"group flex items-center rounded-xl border border-blue-200 bg-blue-50 px-4 py-2.5 text-sm font-medium text-blue-700 shadow-sm transition-all hover:bg-blue-100 hover:shadow-md dark:border-blue-800 dark:bg-blue-900/50 dark:text-blue-300 dark:hover:bg-blue-900/70",disabled:ne.value,onClick:et},[t("i",{class:H(["mr-2 transition-transform",ne.value?"fas fa-spinner fa-spin":"fas fa-vial group-hover:scale-110"])},null,2),b(" "+k(ne.value?"æµ‹è¯•ä¸­...":"æµ‹è¯•è¿æ¥"),1)],8,Ql),t("button",{class:"group flex items-center rounded-xl bg-gradient-to-r from-blue-600 to-indigo-600 px-5 py-2.5 text-sm font-medium text-white shadow-md transition-all hover:from-blue-700 hover:to-indigo-700 hover:shadow-lg disabled:cursor-not-allowed disabled:from-gray-400 disabled:to-gray-500",disabled:!Ge.value||ie.value,onClick:Ve},[t("i",{class:H(["mr-2 transition-transform",ie.value?"fas fa-spinner fa-spin":"fas fa-save group-hover:scale-110"])},null,2),b(" "+k(ie.value?"ä¿å­˜ä¸­...":W.value?"ä¿å­˜ä¿®æ”¹":"æ·»åŠ å¹³å°"),1)],8,Yl)])])])])])):S("",!0),pe.value?(c(),g("div",Jl,[t("div",Xl,[t("div",Zl,[e[235]||(e[235]=t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},"è®¾ç½®åŒå› ç´ è®¤è¯",-1)),t("button",{class:"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300",onClick:e[56]||(e[56]=r=>pe.value=!1)},[...e[234]||(e[234]=[t("svg",{class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{d:"M6 18L18 6M6 6l12 12","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"})],-1)])])]),Z.value===1?(c(),g("div",eo,[e[237]||(e[237]=t("p",{class:"mb-4 text-gray-600 dark:text-gray-400"}," ä½¿ç”¨Google Authenticatoræˆ–Authyæ‰«æäºŒç»´ç ï¼š ",-1)),Ce.value?(c(),g("div",to,[t("img",{alt:"2FA QR Code",class:"mx-auto rounded border",src:Ce.value},null,8,ao)])):S("",!0),Ae.value?(c(),g("div",ro,[e[236]||(e[236]=t("p",{class:"mb-2 text-sm text-gray-600 dark:text-gray-400"},"æ‰‹åŠ¨è¾“å…¥å¯†é’¥ï¼š",-1)),t("code",so,k(Ae.value),1)])):S("",!0),t("button",{class:"w-full rounded-md bg-blue-600 px-4 py-2 text-white hover:bg-blue-700",onClick:e[57]||(e[57]=r=>Z.value=2)}," ä¸‹ä¸€æ­¥ ")])):S("",!0),Z.value===2?(c(),g("div",lo,[e[238]||(e[238]=t("p",{class:"mb-4 text-gray-600 dark:text-gray-400"},"è¾“å…¥åº”ç”¨æ˜¾ç¤ºçš„6ä½éªŒè¯ç ï¼š",-1)),y(t("input",{"onUpdate:modelValue":e[58]||(e[58]=r=>se.value=r),class:"mb-4 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-center font-mono text-2xl text-gray-900 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100",maxlength:"6",placeholder:"000000",type:"text"},null,512),[[E,se.value]]),t("div",oo,[t("button",{class:"flex-1 rounded-md bg-gray-500 px-4 py-2 text-white hover:bg-gray-600",onClick:e[59]||(e[59]=r=>Z.value=1)}," ä¸Šä¸€æ­¥ "),t("button",{class:"flex-1 rounded-md bg-green-600 px-4 py-2 text-white hover:bg-green-700 disabled:bg-gray-400",disabled:!se.value||se.value.length!==6,onClick:mt}," å¯ç”¨2FA ",8,no)])])):S("",!0),Z.value===3&&Se.value?(c(),g("div",io,[e[239]||(e[239]=t("p",{class:"mb-4 text-gray-600 dark:text-gray-400"},"2FAè®¾ç½®æˆåŠŸï¼è¯·ä¿å­˜ä»¥ä¸‹å¤‡ä»½ç ï¼š",-1)),t("div",uo,[t("div",go,[(c(!0),g(He,null,rt(Se.value,r=>(c(),g("div",{key:r,class:"text-center"},k(r),1))),128))])]),t("button",{class:"w-full rounded-md bg-green-600 px-4 py-2 text-white hover:bg-green-700",onClick:xt}," å®Œæˆè®¾ç½® ")])):S("",!0)])])):S("",!0),re.value?(c(),g("div",co,[t("div",fo,[t("div",po,[e[241]||(e[241]=t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},"æ•æ„Ÿæ“ä½œéªŒè¯",-1)),t("button",{class:"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300",onClick:e[60]||(e[60]=r=>re.value=!1)},[...e[240]||(e[240]=[t("svg",{class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{d:"M6 18L18 6M6 6l12 12","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"})],-1)])])]),t("div",yo,[t("div",null,[e[242]||(e[242]=t("label",{class:"mb-2 block text-sm font-medium text-gray-700 dark:text-gray-300"}," ç®¡ç†å‘˜å¯†ç  ",-1)),y(t("input",{"onUpdate:modelValue":e[61]||(e[61]=r=>q.value.password=r),class:"w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-gray-900 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100",type:"password"},null,512),[[E,q.value.password]])]),t("div",null,[e[243]||(e[243]=t("label",{class:"mb-2 block text-sm font-medium text-gray-700 dark:text-gray-300"}," 2FAéªŒè¯ç  ",-1)),y(t("input",{"onUpdate:modelValue":e[62]||(e[62]=r=>q.value.token=r),class:"w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-center font-mono text-gray-900 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100",maxlength:"8",placeholder:"6ä½éªŒè¯ç æˆ–8ä½å¤‡ä»½ç ",type:"text"},null,512),[[E,q.value.token]])]),t("div",bo,[t("button",{class:"flex-1 rounded-md bg-gray-500 px-4 py-2 text-white hover:bg-gray-600",onClick:e[63]||(e[63]=r=>re.value=!1)}," å–æ¶ˆ "),t("button",{class:"flex-1 rounded-md bg-blue-600 px-4 py-2 text-white hover:bg-blue-700 disabled:bg-gray-400",disabled:!q.value.password||!q.value.token||ye.value,onClick:vt},[ye.value?(c(),g("span",xo,"éªŒè¯ä¸­...")):(c(),g("span",vo,"éªŒè¯"))],8,mo)])])])])):S("",!0)],64)}}}),Ao=Bt(ko,[["__scopeId","data-v-3d84849f"]]);export{Ao as default};
