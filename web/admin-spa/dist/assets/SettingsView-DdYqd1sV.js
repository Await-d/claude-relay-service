import{aR as Se,r as m,aV as _e,o as Ce,q as De,Z as Ae,x as n,z as e,L as _,C as O,O as i,u as h,K as y,S as G,aq as U,P as f,aX as ee,aW as te,al as q,Q as z,ac as re,R as Ie,J as Oe,T as We,Y as Ve,y as d}from"./vue-vendor-Ig-GgGwA.js";import{s as o}from"./toast-BvwA7Mwb.js";import{b as w,_ as Ue}from"./index-qaHnyENt.js";import"./element-plus-Bq6mBxnk.js";import"./vendor-BDiMbLwQ.js";const Ee=Se("settings",()=>{const S=m({siteName:"Claude Relay Service",siteIcon:"",siteIconData:"",updatedAt:null}),C=m(!1),R=m(!1),j=async()=>{C.value=!0;try{const l=await w.get("/admin/oem-settings");return l&&l.success&&(S.value={...S.value,...l.data},p()),l}catch(l){throw console.error("Failed to load OEM settings:",l),l}finally{C.value=!1}},v=async l=>{R.value=!0;try{const c=await w.put("/admin/oem-settings",l);return c&&c.success&&(S.value={...S.value,...c.data},p()),c}catch(c){throw console.error("Failed to save OEM settings:",c),c}finally{R.value=!1}},M=async()=>{const l={siteName:"Claude Relay Service",siteIcon:"",siteIconData:"",updatedAt:null};return S.value={...l},await v(l)},p=()=>{if(S.value.siteName&&(document.title=`${S.value.siteName} - ç®¡ç†åå°`),S.value.siteIconData||S.value.siteIcon){const l=document.querySelector('link[rel="icon"]')||document.createElement("link");l.rel="icon",l.href=S.value.siteIconData||S.value.siteIcon,document.querySelector('link[rel="icon"]')||document.head.appendChild(l)}};return{oemSettings:S,loading:C,saving:R,loadOemSettings:j,saveOemSettings:v,resetOemSettings:M,applyOemSettings:p,formatDateTime:l=>l?new Date(l).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):"",validateIconFile:l=>{const c=[];return l.size>350*1024&&c.push("å›¾æ ‡æ–‡ä»¶å¤§å°ä¸èƒ½è¶…è¿‡ 350KB"),["image/x-icon","image/png","image/jpeg","image/jpg","image/svg+xml"].includes(l.type)||c.push("ä¸æ”¯æŒçš„æ–‡ä»¶ç±»å‹ï¼Œè¯·é€‰æ‹© .ico, .png, .jpg æˆ– .svg æ–‡ä»¶"),{isValid:c.length===0,errors:c}},fileToBase64:l=>new Promise((c,W)=>{const b=new FileReader;b.onload=E=>c(E.target.result),b.onerror=W,b.readAsDataURL(l)})}}),je={class:"settings-container"},Te={class:"card p-4 sm:p-6"},Re={class:"mb-6"},Ne={class:"flex space-x-8"},Pe={key:0,class:"py-12 text-center"},qe={key:1},$e={class:"table-container hidden sm:block"},Fe={class:"min-w-full"},Le={class:"divide-y divide-gray-200/50 dark:divide-gray-600/50"},Me={class:"table-row"},Be={class:"px-6 py-4"},Ge={class:"table-row"},ze={class:"px-6 py-4"},Ke={class:"space-y-3"},He={key:0,class:"inline-flex items-center gap-3 rounded-lg bg-gray-50 p-3 dark:bg-gray-700"},Je=["src"],Qe={class:"px-6 py-6",colspan:"2"},Xe={class:"flex items-center justify-between"},Ye={class:"flex gap-3"},Ze=["disabled"],et={key:0,class:"loading-spinner mr-2"},tt={key:1,class:"fas fa-save mr-2"},rt=["disabled"],at={key:0,class:"text-sm text-gray-500 dark:text-gray-400"},st={class:"mb-6 rounded-lg bg-white/80 p-6 shadow-lg backdrop-blur-sm dark:bg-gray-800/80"},lt={class:"mb-4 flex items-center justify-between"},ot={class:"text-xs text-gray-500 dark:text-gray-400"},nt={class:"space-y-4"},it={class:"rounded-lg border border-blue-200 bg-blue-50 p-4 dark:border-blue-700 dark:bg-blue-900/30"},dt={class:"flex items-start gap-2"},ut={class:"text-sm text-blue-700 dark:text-blue-300"},gt={class:"mb-1 font-medium"},ct={key:0,class:"space-y-2"},bt={key:1,class:"space-y-2"},ft={class:"mb-6 rounded-lg bg-white/80 p-6 shadow-lg backdrop-blur-sm dark:bg-gray-800/80"},yt={class:"space-y-4"},mt={class:"flex items-center justify-between"},vt={class:"relative inline-flex cursor-pointer items-center"},xt={class:"flex items-center justify-between"},pt={class:"relative inline-flex cursor-pointer items-center"},kt={class:"mb-6 rounded-lg bg-white/80 p-6 shadow-lg backdrop-blur-sm dark:bg-gray-800/80"},ht={class:"grid grid-cols-1 gap-4 md:grid-cols-3"},wt={class:"rounded-lg border border-gray-200 p-4 dark:border-gray-700"},St={class:"flex items-center justify-between"},_t={class:"text-2xl font-bold text-blue-600 dark:text-blue-400"},Ct={class:"rounded-lg border border-gray-200 p-4 dark:border-gray-700"},Dt={class:"flex items-center justify-between"},At={class:"text-2xl font-bold text-green-600 dark:text-green-400"},It={class:"rounded-lg border border-gray-200 p-4 dark:border-gray-700"},Ot={class:"flex items-center justify-between"},Wt={class:"text-2xl font-bold text-purple-600 dark:text-purple-400"},Vt={class:"flex items-center justify-between"},Ut={class:"flex gap-3"},Et=["disabled"],jt={key:0,class:"loading-spinner mr-2"},Tt={key:1,class:"fas fa-save mr-2"},Rt=["disabled"],Nt={key:0,class:"text-sm text-gray-500 dark:text-gray-400"},Pt={class:"mb-6 rounded-lg bg-white/80 p-6 shadow-lg backdrop-blur-sm dark:bg-gray-800/80"},qt={class:"flex items-center justify-between"},$t={class:"relative inline-flex cursor-pointer items-center"},Ft={class:"mb-6 rounded-lg bg-white/80 p-6 shadow-lg backdrop-blur-sm dark:bg-gray-800/80"},Lt={class:"space-y-3"},Mt={class:"font-medium text-gray-700 dark:text-gray-300"},Bt={class:"ml-2 text-sm text-gray-500 dark:text-gray-400"},Gt={class:"relative inline-flex cursor-pointer items-center"},zt=["onUpdate:modelValue"],Kt={class:"mb-6 rounded-lg bg-white/80 p-6 shadow-lg backdrop-blur-sm dark:bg-gray-800/80"},Ht={class:"mb-4 flex items-center justify-between"},Jt={key:0,class:"space-y-4"},Qt={class:"flex items-start justify-between"},Xt={class:"flex-1"},Yt={class:"flex items-center"},Zt={class:"font-semibold text-gray-800 dark:text-gray-200"},er={class:"text-sm text-gray-500 dark:text-gray-400"},tr={class:"mt-3 space-y-1 text-sm"},rr={class:"flex items-center text-gray-600 dark:text-gray-400"},ar={class:"truncate"},sr={key:0,class:"flex items-center text-gray-600 dark:text-gray-400"},lr={class:"ml-4 flex items-center space-x-2"},or={class:"relative inline-flex cursor-pointer items-center"},nr=["checked","onChange"],ir=["onClick"],dr=["onClick"],ur=["onClick"],gr={key:1,class:"py-8 text-center text-gray-500 dark:text-gray-400"},cr={class:"rounded-lg bg-white/80 p-6 shadow-lg backdrop-blur-sm dark:bg-gray-800/80"},br={class:"grid grid-cols-1 gap-4 md:grid-cols-3"},fr={class:"dark:to-gray-750 relative border-b border-gray-200 bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-5 dark:border-gray-700 dark:from-gray-800"},yr={class:"flex items-center justify-between"},mr={class:"flex items-center space-x-3"},vr={class:"text-xl font-semibold text-gray-900 dark:text-white"},xr={class:"mt-0.5 text-sm text-gray-600 dark:text-gray-400"},pr={class:"p-6"},kr={class:"space-y-5"},hr={class:"relative"},wr=["disabled"],Sr={key:0,class:"mt-1 text-xs text-amber-600 dark:text-amber-400"},_r={class:"relative"},Cr={key:0,class:"absolute inset-y-0 right-0 flex items-center pr-3"},Dr={key:1,class:"absolute inset-y-0 right-0 flex items-center pr-3"},Ar={key:0,class:"mt-2 flex items-start rounded-lg bg-blue-50 p-3 dark:bg-blue-900/20"},Ir={class:"text-sm text-blue-700 dark:text-blue-300"},Or={key:0,class:"rounded-xl border border-gray-200 bg-gray-50 p-4 dark:border-gray-700 dark:bg-gray-900/50"},Wr={class:"space-y-4"},Vr={class:"flex items-center justify-between"},Ur={class:"flex cursor-pointer items-center",for:"enableSign"},Er={key:0,class:"rounded-full bg-green-100 px-2 py-1 text-xs font-medium text-green-700 dark:bg-green-900/50 dark:text-green-400"},jr={key:0},Tr={class:"border-t border-gray-200 bg-gray-50 px-6 py-4 dark:border-gray-700 dark:bg-gray-900/50"},Rr={class:"flex items-center justify-between"},Nr={class:"flex space-x-3"},Pr=["disabled"],qr=["disabled"],$r=Object.assign({name:"SettingsView"},{__name:"SettingsView",setup(S){const C=Ee(),{loading:R,saving:j,oemSettings:v}=_e(C),M=m(),p=m("branding"),s=m(!0),k=m(new AbortController),A=m(!1),l=m(!1),c=m(!1),W=m(!1),b=m({enabled:!1,platforms:[],notificationTypes:{accountAnomaly:!0,quotaWarning:!0,systemError:!0,securityAlert:!0},retrySettings:{maxRetries:3,retryDelay:1e3,timeout:1e4}}),E=m(!1),D=m(null),u=m({type:"wechat_work",name:"",url:"",enableSign:!1,secret:""}),g=m({globalDefaultStrategy:"least_recent",globalDefaultWeight:5,globalDefaultOrder:1,enableAccountOverride:!0,enableGroupOverride:!0,updatedAt:null}),$=m({globalStrategyCount:0,customStrategyCount:0,groupStrategyCount:0}),V=m(!1),K=Ce(p,async r=>{s.value&&(r==="webhook"?await N():r==="scheduling"&&await Q())});De(async()=>{try{await C.loadOemSettings(),p.value==="webhook"?await N():p.value==="scheduling"&&await Q()}catch{o("åŠ è½½è®¾ç½®å¤±è´¥","error")}}),Ae(()=>{s.value=!1,k.value&&k.value.abort(),K&&K(),E.value&&(E.value=!1,D.value=null)});const N=async()=>{if(s.value)try{const r=await w.get("/admin/webhook/config",{signal:k.value.signal});r.success&&s.value&&(b.value=r.config)}catch(r){if(r.name==="AbortError"||!s.value)return;o("è·å–webhooké…ç½®å¤±è´¥","error"),console.error(r)}},P=async()=>{if(s.value)try{(await w.post("/admin/webhook/config",b.value,{signal:k.value.signal})).success&&s.value&&o("é…ç½®å·²ä¿å­˜","success")}catch(r){if(r.name==="AbortError"||!s.value)return;o("ä¿å­˜é…ç½®å¤±è´¥","error"),console.error(r)}},ae=()=>{const r=u.value.url;if(!r){A.value=!1,l.value=!1;return}try{new URL(r),r.startsWith("http://")||r.startsWith("https://")?(A.value=!1,l.value=!0):(A.value=!0,l.value=!1)}catch{A.value=!0,l.value=!1}},se=async()=>{if(s.value){if(!u.value.url){o("è¯·è¾“å…¥Webhook URL","error");return}if(A.value){o("è¯·è¾“å…¥æœ‰æ•ˆçš„Webhook URL","error");return}W.value=!0;try{let r;D.value?r=await w.put(`/admin/webhook/platforms/${D.value.id}`,u.value,{signal:k.value.signal}):r=await w.post("/admin/webhook/platforms",u.value,{signal:k.value.signal}),r.success&&s.value&&(o(D.value?"å¹³å°å·²æ›´æ–°":"å¹³å°å·²æ·»åŠ ","success"),await N(),F())}catch(r){if(r.name==="AbortError"||!s.value)return;o(r.message||"æ“ä½œå¤±è´¥","error"),console.error(r)}finally{s.value&&(W.value=!1)}}},le=r=>{D.value=r,u.value={...r},E.value=!0},oe=async r=>{if(s.value&&confirm("ç¡®å®šè¦åˆ é™¤è¿™ä¸ªå¹³å°å—ï¼Ÿ"))try{(await w.delete(`/admin/webhook/platforms/${r}`,{signal:k.value.signal})).success&&s.value&&(o("å¹³å°å·²åˆ é™¤","success"),await N())}catch(t){if(t.name==="AbortError"||!s.value)return;o("åˆ é™¤å¤±è´¥","error"),console.error(t)}},ne=async r=>{if(s.value)try{const t=await w.post(`/admin/webhook/platforms/${r}/toggle`,{},{signal:k.value.signal});t.success&&s.value&&(o(t.message,"success"),await N())}catch(t){if(t.name==="AbortError"||!s.value)return;o("æ“ä½œå¤±è´¥","error"),console.error(t)}},ie=async r=>{if(s.value)try{(await w.post("/admin/webhook/test",{url:r.url,type:r.type,secret:r.secret,enableSign:r.enableSign},{signal:k.value.signal})).success&&s.value&&o("æµ‹è¯•æˆåŠŸï¼Œwebhookè¿æ¥æ­£å¸¸","success")}catch(t){if(t.name==="AbortError"||!s.value)return;o(t.error||t.message||"æµ‹è¯•å¤±è´¥","error"),console.error(t)}},de=async()=>{if(s.value){if(!u.value.url){o("è¯·å…ˆè¾“å…¥Webhook URL","error");return}if(A.value){o("è¯·è¾“å…¥æœ‰æ•ˆçš„Webhook URL","error");return}c.value=!0;try{(await w.post("/admin/webhook/test",u.value,{signal:k.value.signal})).success&&s.value&&o("æµ‹è¯•æˆåŠŸï¼Œwebhookè¿æ¥æ­£å¸¸","success")}catch(r){if(r.name==="AbortError"||!s.value)return;o(r.error||r.message||"æµ‹è¯•å¤±è´¥","error"),console.error(r)}finally{s.value&&(c.value=!1)}}},ue=async()=>{if(s.value)try{(await w.post("/admin/webhook/test-notification",{},{signal:k.value.signal})).success&&s.value&&o("æµ‹è¯•é€šçŸ¥å·²å‘é€","success")}catch(r){if(r.name==="AbortError"||!s.value)return;o("å‘é€å¤±è´¥","error"),console.error(r)}},F=()=>{s.value&&(E.value=!1,setTimeout(()=>{s.value&&(D.value=null,u.value={type:"wechat_work",name:"",url:"",enableSign:!1,secret:""},A.value=!1,l.value=!1,c.value=!1,W.value=!1)},0))},H=r=>({wechat_work:"ä¼ä¸šå¾®ä¿¡",dingtalk:"é’‰é’‰",feishu:"é£ä¹¦",slack:"Slack",discord:"Discord",custom:"è‡ªå®šä¹‰"})[r]||r,ge=r=>({wechat_work:"fab fa-weixin text-green-600",dingtalk:"fas fa-comment-dots text-blue-500",feishu:"fas fa-dove text-blue-600",slack:"fab fa-slack text-purple-600",discord:"fab fa-discord text-indigo-600",custom:"fas fa-webhook text-gray-600"})[r]||"fas fa-bell",J=r=>({wechat_work:"è¯·åœ¨ä¼ä¸šå¾®ä¿¡ç¾¤æœºå™¨äººè®¾ç½®ä¸­è·å–Webhookåœ°å€",dingtalk:"è¯·åœ¨é’‰é’‰ç¾¤æœºå™¨äººè®¾ç½®ä¸­è·å–Webhookåœ°å€",feishu:"è¯·åœ¨é£ä¹¦ç¾¤æœºå™¨äººè®¾ç½®ä¸­è·å–Webhookåœ°å€",slack:"è¯·åœ¨Slackåº”ç”¨çš„Incoming Webhooksä¸­è·å–åœ°å€",discord:"è¯·åœ¨DiscordæœåŠ¡å™¨çš„é›†æˆè®¾ç½®ä¸­åˆ›å»ºWebhook",custom:"è¯·è¾“å…¥å®Œæ•´çš„Webhookæ¥æ”¶åœ°å€"})[r]||"",ce=r=>({accountAnomaly:"è´¦å·å¼‚å¸¸",quotaWarning:"é…é¢è­¦å‘Š",systemError:"ç³»ç»Ÿé”™è¯¯",securityAlert:"å®‰å…¨è­¦æŠ¥"})[r]||r,be=r=>({accountAnomaly:"è´¦å·çŠ¶æ€å¼‚å¸¸ã€è®¤è¯å¤±è´¥ç­‰",quotaWarning:"APIè°ƒç”¨é…é¢ä¸è¶³è­¦å‘Š",systemError:"ç³»ç»Ÿè¿è¡Œé”™è¯¯å’Œæ•…éšœ",securityAlert:"å®‰å…¨ç›¸å…³çš„è­¦æŠ¥é€šçŸ¥"})[r]||"",fe=async()=>{try{const r={siteName:v.value.siteName,siteIcon:v.value.siteIcon,siteIconData:v.value.siteIconData},t=await C.saveOemSettings(r);t&&t.success?o("OEMè®¾ç½®ä¿å­˜æˆåŠŸ","success"):o((t==null?void 0:t.message)||"ä¿å­˜å¤±è´¥","error")}catch{o("ä¿å­˜OEMè®¾ç½®å¤±è´¥","error")}},ye=async()=>{if(confirm(`ç¡®å®šè¦é‡ç½®ä¸ºé»˜è®¤è®¾ç½®å—ï¼Ÿ

è¿™å°†æ¸…é™¤æ‰€æœ‰è‡ªå®šä¹‰çš„ç½‘ç«™åç§°å’Œå›¾æ ‡è®¾ç½®ã€‚`))try{const r=await C.resetOemSettings();r&&r.success?o("å·²é‡ç½®ä¸ºé»˜è®¤è®¾ç½®","success"):o("é‡ç½®å¤±è´¥","error")}catch{o("é‡ç½®å¤±è´¥","error")}},me=async r=>{const t=r.target.files[0];if(!t)return;const a=C.validateIconFile(t);if(!a.isValid){a.errors.forEach(x=>o(x,"error"));return}try{const x=await C.fileToBase64(t);v.value.siteIconData=x}catch{o("æ–‡ä»¶è¯»å–å¤±è´¥","error")}r.target.value=""},ve=()=>{v.value.siteIcon="",v.value.siteIconData=""},xe=()=>{console.warn("Icon failed to load")},Q=async()=>{var r,t,a,x,L,Z;if(s.value)try{const I=await w.get("/admin/scheduling/config",{signal:k.value.signal});I.success&&s.value&&(g.value={globalDefaultStrategy:((r=I.config)==null?void 0:r.globalDefaultStrategy)||"least_recent",globalDefaultWeight:((t=I.config)==null?void 0:t.globalDefaultWeight)||5,globalDefaultOrder:((a=I.config)==null?void 0:a.globalDefaultOrder)||1,enableAccountOverride:((x=I.config)==null?void 0:x.enableAccountOverride)??!0,enableGroupOverride:((L=I.config)==null?void 0:L.enableGroupOverride)??!0,updatedAt:(Z=I.config)==null?void 0:Z.updatedAt},await B())}catch(I){if(I.name==="AbortError"||!s.value)return;console.error("åŠ è½½è°ƒåº¦é…ç½®å¤±è´¥:",I)}},T=async()=>{if(s.value){V.value=!0;try{(await w.post("/admin/scheduling/config",g.value,{signal:k.value.signal})).success&&s.value&&(g.value.updatedAt=new Date().toISOString(),o("è°ƒåº¦ç­–ç•¥é…ç½®å·²ä¿å­˜","success"),await B())}catch(r){if(r.name==="AbortError"||!s.value)return;o("ä¿å­˜é…ç½®å¤±è´¥","error"),console.error(r)}finally{s.value&&(V.value=!1)}}},pe=async()=>{if(confirm("ç¡®å®šè¦é‡ç½®è°ƒåº¦ç­–ç•¥é…ç½®ä¸ºé»˜è®¤è®¾ç½®å—ï¼Ÿ")){V.value=!0;try{(await w.post("/admin/scheduling/config/reset",{},{signal:k.value.signal})).success&&s.value&&(g.value={globalDefaultStrategy:"least_recent",globalDefaultWeight:5,globalDefaultOrder:1,enableAccountOverride:!0,enableGroupOverride:!0,updatedAt:new Date().toISOString()},o("è°ƒåº¦ç­–ç•¥é…ç½®å·²é‡ç½®","success"),await B())}catch(r){if(r.name==="AbortError"||!s.value)return;o("é‡ç½®é…ç½®å¤±è´¥","error"),console.error(r)}finally{s.value&&(V.value=!1)}}},B=async()=>{if(s.value)try{const r=await w.get("/admin/scheduling/stats",{signal:k.value.signal});r.success&&s.value&&($.value=r.stats)}catch(r){if(r.name==="AbortError"||!s.value)return;console.error("åŠ è½½ä½¿ç”¨ç»Ÿè®¡å¤±è´¥:",r)}},ke=()=>X(g.value.globalDefaultStrategy),he=r=>({round_robin:"fas fa-sync-alt text-blue-500",least_used:"fas fa-chart-bar text-green-500",least_recent:"fas fa-clock text-orange-500",random:"fas fa-random text-purple-500",weighted_random:"fas fa-balance-scale text-amber-500",sequential:"fas fa-list-ol text-indigo-500"})[r]||"fas fa-clock text-orange-500",X=r=>({round_robin:"è½®è¯¢è°ƒåº¦",least_used:"æœ€å°‘ä½¿ç”¨",least_recent:"æœ€è¿‘æœ€å°‘ä½¿ç”¨",random:"éšæœºè°ƒåº¦",weighted_random:"åŠ æƒéšæœº",sequential:"é¡ºåºè°ƒåº¦"})[r]||"æœ€è¿‘æœ€å°‘ä½¿ç”¨",we=r=>({round_robin:"æŒ‰é¡ºåºå¾ªç¯é€‰æ‹©è´¦æˆ·ï¼Œç¡®ä¿æ¯ä¸ªè´¦æˆ·è¢«å¹³å‡ä½¿ç”¨",least_used:"ä¼˜å…ˆé€‰æ‹©ä½¿ç”¨æ¬¡æ•°æœ€å°‘çš„è´¦æˆ·ï¼Œå®ç°è´Ÿè½½å‡è¡¡",least_recent:"ä¼˜å…ˆé€‰æ‹©æœ€é•¿æ—¶é—´æœªè¢«ä½¿ç”¨çš„è´¦æˆ·ï¼Œé€‚åˆå¤§éƒ¨åˆ†åœºæ™¯",random:"éšæœºé€‰æ‹©å¯ç”¨è´¦æˆ·ï¼Œåˆ†å¸ƒç›¸å¯¹å‡åŒ€",weighted_random:"æ ¹æ®æƒé‡éšæœºé€‰æ‹©ï¼Œæƒé‡è¶Šé«˜è¢«é€‰ä¸­æ¦‚ç‡è¶Šå¤§",sequential:"æŒ‰é…ç½®é¡ºåºé€ä¸€ä½¿ç”¨è´¦æˆ·ï¼Œé€‚åˆæœ‰ä¼˜å…ˆçº§è¦æ±‚çš„åœºæ™¯"})[r]||"ä¼˜å…ˆé€‰æ‹©æœ€é•¿æ—¶é—´æœªè¢«ä½¿ç”¨çš„è´¦æˆ·",Y=C.formatDateTime;return(r,t)=>(d(),n(z,null,[e("div",je,[e("div",Te,[t[76]||(t[76]=e("div",{class:"mb-4 sm:mb-6"},[e("h3",{class:"mb-1 text-lg font-bold text-gray-900 dark:text-gray-100 sm:mb-2 sm:text-xl"}," ç³»ç»Ÿè®¾ç½® "),e("p",{class:"text-sm text-gray-600 dark:text-gray-400 sm:text-base"},"ç½‘ç«™å®šåˆ¶å’Œé€šçŸ¥é…ç½®")],-1)),e("div",Re,[e("nav",Ne,[e("button",{class:O(["border-b-2 pb-2 text-sm font-medium transition-colors",p.value==="branding"?"border-blue-500 text-blue-600 dark:border-blue-400 dark:text-blue-400":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"]),onClick:t[0]||(t[0]=a=>p.value="branding")},t[21]||(t[21]=[e("i",{class:"fas fa-palette mr-2"},null,-1),i(" å“ç‰Œè®¾ç½® ",-1)]),2),e("button",{class:O(["border-b-2 pb-2 text-sm font-medium transition-colors",p.value==="scheduling"?"border-blue-500 text-blue-600 dark:border-blue-400 dark:text-blue-400":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"]),onClick:t[1]||(t[1]=a=>p.value="scheduling")},t[22]||(t[22]=[e("i",{class:"fas fa-route mr-2"},null,-1),i(" è°ƒåº¦ç­–ç•¥é…ç½® ",-1)]),2),e("button",{class:O(["border-b-2 pb-2 text-sm font-medium transition-colors",p.value==="webhook"?"border-blue-500 text-blue-600 dark:border-blue-400 dark:text-blue-400":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"]),onClick:t[2]||(t[2]=a=>p.value="webhook")},t[23]||(t[23]=[e("i",{class:"fas fa-bell mr-2"},null,-1),i(" é€šçŸ¥è®¾ç½® ",-1)]),2)])]),h(R)?(d(),n("div",Pe,t[24]||(t[24]=[e("div",{class:"loading-spinner mx-auto mb-4"},[e("p",{class:"text-gray-500 dark:text-gray-400"},"æ­£åœ¨åŠ è½½è®¾ç½®...")],-1)]))):(d(),n("div",qe,[y(e("div",null,[e("div",$e,[e("table",Fe,[e("tbody",Le,[e("tr",Me,[t[26]||(t[26]=e("td",{class:"w-48 whitespace-nowrap px-6 py-4"},[e("div",{class:"flex items-center"},[e("div",{class:"mr-3 flex h-8 w-8 items-center justify-center rounded-lg bg-gradient-to-br from-blue-500 to-blue-600"},[e("i",{class:"fas fa-font text-xs text-white"})]),e("div",null,[e("div",{class:"text-sm font-semibold text-gray-900 dark:text-gray-100"}," ç½‘ç«™åç§° "),e("div",{class:"text-xs text-gray-500 dark:text-gray-400"},"å“ç‰Œæ ‡è¯†")])])],-1)),e("td",Be,[y(e("input",{"onUpdate:modelValue":t[3]||(t[3]=a=>h(v).siteName=a),class:"form-input w-full max-w-md dark:border-gray-600 dark:bg-gray-700 dark:text-gray-200",maxlength:"100",placeholder:"Claude Relay Service",type:"text"},null,512),[[U,h(v).siteName]]),t[25]||(t[25]=e("p",{class:"mt-1 text-xs text-gray-500 dark:text-gray-400"}," å°†æ˜¾ç¤ºåœ¨æµè§ˆå™¨æ ‡é¢˜å’Œé¡µé¢å¤´éƒ¨ ",-1))])]),e("tr",Ge,[t[31]||(t[31]=e("td",{class:"w-48 whitespace-nowrap px-6 py-4"},[e("div",{class:"flex items-center"},[e("div",{class:"mr-3 flex h-8 w-8 items-center justify-center rounded-lg bg-gradient-to-br from-purple-500 to-purple-600"},[e("i",{class:"fas fa-image text-xs text-white"})]),e("div",null,[e("div",{class:"text-sm font-semibold text-gray-900 dark:text-gray-100"}," ç½‘ç«™å›¾æ ‡ "),e("div",{class:"text-xs text-gray-500 dark:text-gray-400"},"Favicon")])])],-1)),e("td",ze,[e("div",Ke,[h(v).siteIconData||h(v).siteIcon?(d(),n("div",He,[e("img",{alt:"å›¾æ ‡é¢„è§ˆ",class:"h-8 w-8",src:h(v).siteIconData||h(v).siteIcon,onError:xe},null,40,Je),t[28]||(t[28]=e("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"å½“å‰å›¾æ ‡",-1)),e("button",{class:"rounded-lg px-3 py-1 font-medium text-red-600 transition-colors hover:bg-red-50 hover:text-red-900",onClick:ve},t[27]||(t[27]=[e("i",{class:"fas fa-trash mr-1"},null,-1),i("åˆ é™¤ ",-1)]))])):_("",!0),e("div",null,[e("input",{ref_key:"iconFileInput",ref:M,accept:".ico,.png,.jpg,.jpeg,.svg",class:"hidden",type:"file",onChange:me},null,544),e("button",{class:"btn btn-success px-4 py-2",onClick:t[4]||(t[4]=a=>r.$refs.iconFileInput.click())},t[29]||(t[29]=[e("i",{class:"fas fa-upload mr-2"},null,-1),i(" ä¸Šä¼ å›¾æ ‡ ",-1)])),t[30]||(t[30]=e("span",{class:"ml-3 text-xs text-gray-500 dark:text-gray-400"},"æ”¯æŒ .ico, .png, .jpg, .svg æ ¼å¼ï¼Œæœ€å¤§ 350KB",-1))])])])]),e("tr",null,[e("td",Qe,[e("div",Xe,[e("div",Ye,[e("button",{class:O(["btn btn-primary px-6 py-3",{"cursor-not-allowed opacity-50":h(j)}]),disabled:h(j),onClick:fe},[h(j)?(d(),n("div",et)):(d(),n("i",tt)),i(" "+f(h(j)?"ä¿å­˜ä¸­...":"ä¿å­˜è®¾ç½®"),1)],10,Ze),e("button",{class:"btn bg-gray-100 px-6 py-3 text-gray-700 hover:bg-gray-200 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600",disabled:h(j),onClick:ye},t[32]||(t[32]=[e("i",{class:"fas fa-undo mr-2"},null,-1),i(" é‡ç½®ä¸ºé»˜è®¤ ",-1)]),8,rt)]),h(v).updatedAt?(d(),n("div",at,[t[33]||(t[33]=e("i",{class:"fas fa-clock mr-1"},null,-1)),i(" æœ€åæ›´æ–°ï¼š"+f(h(Y)(h(v).updatedAt)),1)])):_("",!0)])])])])])]),t[34]||(t[34]=e("div",{class:"space-y-4 sm:hidden"},null,-1))],512),[[G,p.value==="branding"]]),y(e("div",null,[e("div",st,[e("div",lt,[t[35]||(t[35]=e("div",null,[e("h2",{class:"text-lg font-semibold text-gray-800 dark:text-gray-200"},[e("i",{class:"fas fa-route mr-2 text-blue-500"}),i(" å…¨å±€é»˜è®¤è°ƒåº¦ç­–ç•¥ ")]),e("p",{class:"mt-1 text-sm text-gray-600 dark:text-gray-400"}," è®¾ç½®ç³»ç»Ÿçš„é»˜è®¤è°ƒåº¦ç­–ç•¥ï¼Œå½±å“æ‰€æœ‰æœªå•ç‹¬é…ç½®çš„è´¦æˆ·å’Œåˆ†ç»„ ")],-1)),e("div",ot," å½“å‰ç”Ÿæ•ˆï¼š"+f(ke()),1)]),e("div",nt,[e("div",null,[t[37]||(t[37]=e("label",{class:"mb-2 block text-sm font-medium text-gray-700 dark:text-gray-300"}," é»˜è®¤ç­–ç•¥ ",-1)),y(e("select",{"onUpdate:modelValue":t[5]||(t[5]=a=>g.value.globalDefaultStrategy=a),class:"w-full rounded-lg border border-gray-300 bg-white px-3 py-2 text-gray-900 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white",onChange:T},t[36]||(t[36]=[ee('<option value="round_robin" data-v-6d1ee6bd><i class="fas fa-sync-alt mr-2" data-v-6d1ee6bd></i>è½®è¯¢è°ƒåº¦ (Round Robin) </option><option value="least_used" data-v-6d1ee6bd><i class="fas fa-chart-bar mr-2" data-v-6d1ee6bd></i>æœ€å°‘ä½¿ç”¨ (Least Used) </option><option value="least_recent" data-v-6d1ee6bd><i class="fas fa-clock mr-2" data-v-6d1ee6bd></i>æœ€è¿‘æœ€å°‘ä½¿ç”¨ (Least Recent) </option><option value="random" data-v-6d1ee6bd><i class="fas fa-random mr-2" data-v-6d1ee6bd></i>éšæœºè°ƒåº¦ (Random)</option><option value="weighted_random" data-v-6d1ee6bd><i class="fas fa-balance-scale mr-2" data-v-6d1ee6bd></i>åŠ æƒéšæœº (Weighted Random) </option><option value="sequential" data-v-6d1ee6bd><i class="fas fa-list-ol mr-2" data-v-6d1ee6bd></i>é¡ºåºè°ƒåº¦ (Sequential) </option>',6)]),544),[[te,g.value.globalDefaultStrategy]])]),e("div",it,[e("div",dt,[e("i",{class:O(he(g.value.globalDefaultStrategy))},null,2),e("div",ut,[e("p",gt,f(X(g.value.globalDefaultStrategy))+"ç­–ç•¥è¯´æ˜ï¼š ",1),e("p",null,f(we(g.value.globalDefaultStrategy)),1)])])]),g.value.globalDefaultStrategy==="weighted_random"?(d(),n("div",ct,[t[38]||(t[38]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},[e("i",{class:"fas fa-weight-hanging mr-2 text-amber-500"}),i(" å…¨å±€é»˜è®¤æƒé‡ (1-10) ")],-1)),y(e("input",{"onUpdate:modelValue":t[6]||(t[6]=a=>g.value.globalDefaultWeight=a),class:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white",max:"10",min:"1",type:"number",onChange:T},null,544),[[U,g.value.globalDefaultWeight,void 0,{number:!0}]]),t[39]||(t[39]=e("p",{class:"text-xs text-gray-500 dark:text-gray-400"}," æƒé‡è¶Šé«˜çš„è´¦æˆ·è¢«é€‰ä¸­çš„æ¦‚ç‡è¶Šå¤§ ",-1))])):g.value.globalDefaultStrategy==="sequential"?(d(),n("div",bt,[t[40]||(t[40]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},[e("i",{class:"fas fa-sort-numeric-down mr-2 text-indigo-500"}),i(" å…¨å±€é»˜è®¤èµ·å§‹ä½ç½® ")],-1)),y(e("input",{"onUpdate:modelValue":t[7]||(t[7]=a=>g.value.globalDefaultOrder=a),class:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white",min:"1",type:"number",onChange:T},null,544),[[U,g.value.globalDefaultOrder,void 0,{number:!0}]]),t[41]||(t[41]=e("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"æ•°å­—è¶Šå°çš„è´¦æˆ·ä¼˜å…ˆè¢«é€‰æ‹©",-1))])):_("",!0)])]),e("div",ft,[t[46]||(t[46]=e("h2",{class:"mb-4 text-lg font-semibold text-gray-800 dark:text-gray-200"},[e("i",{class:"fas fa-cogs mr-2 text-green-500"}),i(" ç­–ç•¥è¦†ç›–è®¾ç½® ")],-1)),e("div",yt,[e("div",mt,[t[43]||(t[43]=e("div",null,[e("h3",{class:"font-medium text-gray-700 dark:text-gray-300"},"è´¦æˆ·çº§åˆ«è¦†ç›–"),e("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," å…è®¸å•ä¸ªè´¦æˆ·è¦†ç›–å…¨å±€è°ƒåº¦ç­–ç•¥ ")],-1)),e("label",vt,[y(e("input",{"onUpdate:modelValue":t[8]||(t[8]=a=>g.value.enableAccountOverride=a),class:"peer sr-only",type:"checkbox",onChange:T},null,544),[[q,g.value.enableAccountOverride]]),t[42]||(t[42]=e("div",{class:"peer h-6 w-11 rounded-full bg-gray-200 after:absolute after:left-[2px] after:top-[2px] after:h-5 after:w-5 after:rounded-full after:border after:border-gray-300 after:bg-white after:transition-all after:content-[''] peer-checked:bg-blue-600 peer-checked:after:translate-x-full peer-checked:after:border-white peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:border-gray-600 dark:bg-gray-700 dark:peer-focus:ring-blue-800"},null,-1))])]),e("div",xt,[t[45]||(t[45]=e("div",null,[e("h3",{class:"font-medium text-gray-700 dark:text-gray-300"},"åˆ†ç»„çº§åˆ«è¦†ç›–"),e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"å…è®¸åˆ†ç»„è¦†ç›–å…¨å±€è°ƒåº¦ç­–ç•¥")],-1)),e("label",pt,[y(e("input",{"onUpdate:modelValue":t[9]||(t[9]=a=>g.value.enableGroupOverride=a),class:"peer sr-only",type:"checkbox",onChange:T},null,544),[[q,g.value.enableGroupOverride]]),t[44]||(t[44]=e("div",{class:"peer h-6 w-11 rounded-full bg-gray-200 after:absolute after:left-[2px] after:top-[2px] after:h-5 after:w-5 after:rounded-full after:border after:border-gray-300 after:bg-white after:transition-all after:content-[''] peer-checked:bg-blue-600 peer-checked:after:translate-x-full peer-checked:after:border-white peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:border-gray-600 dark:bg-gray-700 dark:peer-focus:ring-blue-800"},null,-1))])])])]),e("div",kt,[t[56]||(t[56]=e("h2",{class:"mb-4 text-lg font-semibold text-gray-800 dark:text-gray-200"},[e("i",{class:"fas fa-chart-pie mr-2 text-purple-500"}),i(" å½“å‰ä½¿ç”¨ç»Ÿè®¡ ")],-1)),e("div",ht,[e("div",wt,[e("div",St,[e("div",null,[t[47]||(t[47]=e("p",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},"ä½¿ç”¨å…¨å±€ç­–ç•¥",-1)),e("p",_t,f($.value.globalStrategyCount||0),1)]),t[48]||(t[48]=e("i",{class:"fas fa-globe text-xl text-blue-500"},null,-1))]),t[49]||(t[49]=e("p",{class:"mt-1 text-xs text-gray-500 dark:text-gray-400"},"è´¦æˆ·æ•°é‡",-1))]),e("div",Ct,[e("div",Dt,[e("div",null,[t[50]||(t[50]=e("p",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},"è‡ªå®šä¹‰ç­–ç•¥",-1)),e("p",At,f($.value.customStrategyCount||0),1)]),t[51]||(t[51]=e("i",{class:"fas fa-cog text-xl text-green-500"},null,-1))]),t[52]||(t[52]=e("p",{class:"mt-1 text-xs text-gray-500 dark:text-gray-400"},"è´¦æˆ·æ•°é‡",-1))]),e("div",It,[e("div",Ot,[e("div",null,[t[53]||(t[53]=e("p",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},"åˆ†ç»„ç­–ç•¥",-1)),e("p",Wt,f($.value.groupStrategyCount||0),1)]),t[54]||(t[54]=e("i",{class:"fas fa-layer-group text-xl text-purple-500"},null,-1))]),t[55]||(t[55]=e("p",{class:"mt-1 text-xs text-gray-500 dark:text-gray-400"},"åˆ†ç»„æ•°é‡",-1))])])]),e("div",Vt,[e("div",Ut,[e("button",{class:O(["btn btn-primary px-6 py-3",{"cursor-not-allowed opacity-50":V.value}]),disabled:V.value,onClick:T},[V.value?(d(),n("div",jt)):(d(),n("i",Tt)),i(" "+f(V.value?"ä¿å­˜ä¸­...":"ä¿å­˜é…ç½®"),1)],10,Et),e("button",{class:"btn bg-gray-100 px-6 py-3 text-gray-700 hover:bg-gray-200 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600",disabled:V.value,onClick:pe},t[57]||(t[57]=[e("i",{class:"fas fa-undo mr-2"},null,-1),i(" é‡ç½®ä¸ºé»˜è®¤ ",-1)]),8,Rt)]),g.value.updatedAt?(d(),n("div",Nt,[t[58]||(t[58]=e("i",{class:"fas fa-clock mr-1"},null,-1)),i(" æœ€åæ›´æ–°ï¼š"+f(h(Y)(g.value.updatedAt)),1)])):_("",!0)])],512),[[G,p.value==="scheduling"]]),y(e("div",null,[e("div",Pt,[e("div",qt,[t[60]||(t[60]=e("div",null,[e("h2",{class:"text-lg font-semibold text-gray-800 dark:text-gray-200"}," å¯ç”¨ Webhook é€šçŸ¥ "),e("p",{class:"mt-1 text-sm text-gray-600 dark:text-gray-400"}," å¼€å¯åï¼Œç³»ç»Ÿå°†æŒ‰é…ç½®å‘é€é€šçŸ¥åˆ°æŒ‡å®šå¹³å° ")],-1)),e("label",$t,[y(e("input",{"onUpdate:modelValue":t[10]||(t[10]=a=>b.value.enabled=a),class:"peer sr-only",type:"checkbox",onChange:P},null,544),[[q,b.value.enabled]]),t[59]||(t[59]=e("div",{class:"peer h-6 w-11 rounded-full bg-gray-200 after:absolute after:left-[2px] after:top-[2px] after:h-5 after:w-5 after:rounded-full after:border after:border-gray-300 after:bg-white after:transition-all after:content-[''] peer-checked:bg-blue-600 peer-checked:after:translate-x-full peer-checked:after:border-white peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:border-gray-600 dark:bg-gray-700 dark:peer-focus:ring-blue-800"},null,-1))])])]),e("div",Ft,[t[62]||(t[62]=e("h2",{class:"mb-4 text-lg font-semibold text-gray-800 dark:text-gray-200"},"é€šçŸ¥ç±»å‹",-1)),e("div",Lt,[(d(!0),n(z,null,re(b.value.notificationTypes,(a,x)=>(d(),n("div",{key:x,class:"flex items-center justify-between"},[e("div",null,[e("span",Mt,f(ce(x)),1),e("span",Bt,f(be(x)),1)]),e("label",Gt,[y(e("input",{"onUpdate:modelValue":L=>b.value.notificationTypes[x]=L,class:"peer sr-only",type:"checkbox",onChange:P},null,40,zt),[[q,b.value.notificationTypes[x]]]),t[61]||(t[61]=e("div",{class:"peer h-5 w-9 rounded-full bg-gray-200 after:absolute after:left-[2px] after:top-[2px] after:h-4 after:w-4 after:rounded-full after:border after:border-gray-300 after:bg-white after:transition-all after:content-[''] peer-checked:bg-green-600 peer-checked:after:translate-x-full peer-checked:after:border-white dark:border-gray-600 dark:bg-gray-700"},null,-1))])]))),128))])]),e("div",Kt,[e("div",Ht,[t[64]||(t[64]=e("h2",{class:"text-lg font-semibold text-gray-800 dark:text-gray-200"},"é€šçŸ¥å¹³å°",-1)),e("button",{class:"rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white transition-colors hover:bg-blue-700",onClick:t[11]||(t[11]=a=>E.value=!0)},t[63]||(t[63]=[e("i",{class:"fas fa-plus mr-2"},null,-1),i(" æ·»åŠ å¹³å° ",-1)]))]),b.value.platforms&&b.value.platforms.length>0?(d(),n("div",Jt,[(d(!0),n(z,null,re(b.value.platforms,a=>(d(),n("div",{key:a.id,class:"rounded-lg border border-gray-200 p-4 dark:border-gray-700"},[e("div",Qt,[e("div",Xt,[e("div",Yt,[e("i",{class:O(["mr-3 text-xl",ge(a.type)])},null,2),e("div",null,[e("h3",Zt,f(a.name||H(a.type)),1),e("p",er,f(H(a.type)),1)])]),e("div",tr,[e("div",rr,[t[65]||(t[65]=e("i",{class:"fas fa-link mr-2"},null,-1)),e("span",ar,f(a.url),1)]),a.enableSign?(d(),n("div",sr,t[66]||(t[66]=[e("i",{class:"fas fa-shield-alt mr-2"},null,-1),e("span",null,"å·²å¯ç”¨ç­¾åéªŒè¯",-1)]))):_("",!0)])]),e("div",lr,[e("label",or,[e("input",{checked:a.enabled,class:"peer sr-only",type:"checkbox",onChange:x=>ne(a.id)},null,40,nr),t[67]||(t[67]=e("div",{class:"peer h-5 w-9 rounded-full bg-gray-200 after:absolute after:left-[2px] after:top-[2px] after:h-4 after:w-4 after:rounded-full after:border after:border-gray-300 after:bg-white after:transition-all after:content-[''] peer-checked:bg-green-600 peer-checked:after:translate-x-full peer-checked:after:border-white dark:border-gray-600 dark:bg-gray-700"},null,-1))]),e("button",{class:"rounded-lg bg-blue-100 p-2 text-blue-600 transition-colors hover:bg-blue-200 dark:bg-blue-900 dark:text-blue-400 dark:hover:bg-blue-800",title:"æµ‹è¯•è¿æ¥",onClick:x=>ie(a)},t[68]||(t[68]=[e("i",{class:"fas fa-vial"},null,-1)]),8,ir),e("button",{class:"rounded-lg bg-gray-100 p-2 text-gray-600 transition-colors hover:bg-gray-200 dark:bg-gray-700 dark:text-gray-400 dark:hover:bg-gray-600",title:"ç¼–è¾‘",onClick:x=>le(a)},t[69]||(t[69]=[e("i",{class:"fas fa-edit"},null,-1)]),8,dr),e("button",{class:"rounded-lg bg-red-100 p-2 text-red-600 transition-colors hover:bg-red-200 dark:bg-red-900 dark:text-red-400 dark:hover:bg-red-800",title:"åˆ é™¤",onClick:x=>oe(a.id)},t[70]||(t[70]=[e("i",{class:"fas fa-trash"},null,-1)]),8,ur)])])]))),128))])):(d(),n("div",gr,' æš‚æ— é…ç½®çš„é€šçŸ¥å¹³å°ï¼Œè¯·ç‚¹å‡»"æ·»åŠ å¹³å°"æŒ‰é’®æ·»åŠ  '))]),e("div",cr,[t[74]||(t[74]=e("h2",{class:"mb-4 text-lg font-semibold text-gray-800 dark:text-gray-200"},"é«˜çº§è®¾ç½®",-1)),e("div",br,[e("div",null,[t[71]||(t[71]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," æœ€å¤§é‡è¯•æ¬¡æ•° ",-1)),y(e("input",{"onUpdate:modelValue":t[12]||(t[12]=a=>b.value.retrySettings.maxRetries=a),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white sm:text-sm",max:"10",min:"0",type:"number",onChange:P},null,544),[[U,b.value.retrySettings.maxRetries,void 0,{number:!0}]])]),e("div",null,[t[72]||(t[72]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," é‡è¯•å»¶è¿Ÿ (æ¯«ç§’) ",-1)),y(e("input",{"onUpdate:modelValue":t[13]||(t[13]=a=>b.value.retrySettings.retryDelay=a),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white sm:text-sm",max:"10000",min:"100",step:"100",type:"number",onChange:P},null,544),[[U,b.value.retrySettings.retryDelay,void 0,{number:!0}]])]),e("div",null,[t[73]||(t[73]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," è¶…æ—¶æ—¶é—´ (æ¯«ç§’) ",-1)),y(e("input",{"onUpdate:modelValue":t[14]||(t[14]=a=>b.value.retrySettings.timeout=a),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white sm:text-sm",max:"30000",min:"1000",step:"1000",type:"number",onChange:P},null,544),[[U,b.value.retrySettings.timeout,void 0,{number:!0}]])])])]),e("div",{class:"mt-6 text-center"},[e("button",{class:"rounded-lg bg-green-600 px-6 py-3 text-white shadow-lg transition-all hover:bg-green-700 hover:shadow-xl",onClick:ue},t[75]||(t[75]=[e("i",{class:"fas fa-paper-plane mr-2"},null,-1),i(" å‘é€æµ‹è¯•é€šçŸ¥ ",-1)]))])],512),[[G,p.value==="webhook"]])]))])]),E.value?(d(),n("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm transition-all duration-300 ease-out",onClick:F},[e("div",{class:"relative mx-4 w-full max-w-2xl overflow-hidden rounded-2xl bg-white shadow-2xl transition-all duration-300 ease-out dark:bg-gray-800",onClick:t[20]||(t[20]=Ve(()=>{},["stop"]))},[e("div",fr,[e("div",yr,[e("div",mr,[t[77]||(t[77]=e("div",{class:"flex h-10 w-10 items-center justify-center rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 text-white shadow-lg"},[e("i",{class:"fas fa-bell"})],-1)),e("div",null,[e("h3",vr,f(D.value?"ç¼–è¾‘":"æ·»åŠ ")+"é€šçŸ¥å¹³å° ",1),e("p",xr," é…ç½®"+f(D.value?"å¹¶æ›´æ–°":"æ–°çš„")+"Webhooké€šçŸ¥æ¸ é“ ",1)])]),e("button",{class:"rounded-lg p-2 text-gray-400 transition-colors hover:bg-gray-100 hover:text-gray-600 dark:hover:bg-gray-700 dark:hover:text-gray-300",onClick:F},t[78]||(t[78]=[e("i",{class:"fas fa-times text-lg"},null,-1)]))])]),e("div",pr,[e("div",kr,[e("div",null,[t[82]||(t[82]=e("label",{class:"mb-2 flex items-center text-sm font-medium text-gray-700 dark:text-gray-300"},[e("i",{class:"fas fa-layer-group mr-2 text-gray-400"}),i(" å¹³å°ç±»å‹ ")],-1)),e("div",hr,[y(e("select",{"onUpdate:modelValue":t[15]||(t[15]=a=>u.value.type=a),class:"w-full appearance-none rounded-xl border border-gray-300 bg-white px-4 py-3 pr-10 text-gray-900 shadow-sm transition-all focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20 dark:border-gray-600 dark:bg-gray-700 dark:text-white",disabled:D.value},t[79]||(t[79]=[ee('<option value="wechat_work" data-v-6d1ee6bd>ğŸŸ¢ ä¼ä¸šå¾®ä¿¡</option><option value="dingtalk" data-v-6d1ee6bd>ğŸ”µ é’‰é’‰</option><option value="feishu" data-v-6d1ee6bd>ğŸŸ¦ é£ä¹¦</option><option value="slack" data-v-6d1ee6bd>ğŸŸ£ Slack</option><option value="discord" data-v-6d1ee6bd>ğŸŸª Discord</option><option value="custom" data-v-6d1ee6bd>âš™ï¸ è‡ªå®šä¹‰</option>',6)]),8,wr),[[te,u.value.type]]),t[80]||(t[80]=e("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3"},[e("i",{class:"fas fa-chevron-down text-gray-400"})],-1))]),D.value?(d(),n("p",Sr,t[81]||(t[81]=[e("i",{class:"fas fa-info-circle mr-1"},null,-1),i(" ç¼–è¾‘æ¨¡å¼ä¸‹ä¸èƒ½æ›´æ”¹å¹³å°ç±»å‹ ",-1)]))):_("",!0)]),e("div",null,[t[83]||(t[83]=e("label",{class:"mb-2 flex items-center text-sm font-medium text-gray-700 dark:text-gray-300"},[e("i",{class:"fas fa-tag mr-2 text-gray-400"}),i(" åç§° "),e("span",{class:"ml-2 text-xs text-gray-500"},"(å¯é€‰)")],-1)),y(e("input",{"onUpdate:modelValue":t[16]||(t[16]=a=>u.value.name=a),class:"w-full rounded-xl border border-gray-300 bg-white px-4 py-3 text-gray-900 shadow-sm transition-all placeholder:text-gray-400 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder:text-gray-500",placeholder:"ä¾‹å¦‚ï¼šè¿ç»´ç¾¤é€šçŸ¥ã€å¼€å‘æµ‹è¯•ç¾¤",type:"text"},null,512),[[U,u.value.name]])]),e("div",null,[t[87]||(t[87]=e("label",{class:"mb-2 flex items-center text-sm font-medium text-gray-700 dark:text-gray-300"},[e("i",{class:"fas fa-link mr-2 text-gray-400"}),i(" Webhook URL "),e("span",{class:"ml-1 text-xs text-red-500"},"*")],-1)),e("div",_r,[y(e("input",{"onUpdate:modelValue":t[17]||(t[17]=a=>u.value.url=a),class:O(["w-full rounded-xl border border-gray-300 bg-white px-4 py-3 pr-10 font-mono text-sm text-gray-900 shadow-sm transition-all placeholder:text-gray-400 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder:text-gray-500",{"border-red-500 focus:border-red-500 focus:ring-red-500/20":A.value,"border-green-500 focus:border-green-500 focus:ring-green-500/20":l.value}]),placeholder:"https://...",required:"",type:"url",onInput:ae},null,34),[[U,u.value.url]]),l.value?(d(),n("div",Cr,t[84]||(t[84]=[e("i",{class:"fas fa-check-circle text-green-500"},null,-1)]))):_("",!0),A.value?(d(),n("div",Dr,t[85]||(t[85]=[e("i",{class:"fas fa-exclamation-circle text-red-500"},null,-1)]))):_("",!0)]),J(u.value.type)?(d(),n("div",Ar,[t[86]||(t[86]=e("i",{class:"fas fa-info-circle mr-2 mt-0.5 text-blue-600 dark:text-blue-400"},null,-1)),e("p",Ir,f(J(u.value.type)),1)])):_("",!0)]),u.value.type==="dingtalk"||u.value.type==="feishu"?(d(),n("div",Or,[e("div",Wr,[e("div",Vr,[e("label",Ur,[y(e("input",{id:"enableSign","onUpdate:modelValue":t[18]||(t[18]=a=>u.value.enableSign=a),class:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-2 focus:ring-blue-500 focus:ring-offset-0",type:"checkbox"},null,512),[[q,u.value.enableSign]]),t[88]||(t[88]=e("span",{class:"ml-3 flex items-center text-sm font-medium text-gray-700 dark:text-gray-300"},[e("i",{class:"fas fa-shield-alt mr-2 text-gray-400"}),i(" å¯ç”¨ç­¾åéªŒè¯ ")],-1))]),u.value.enableSign?(d(),n("span",Er," å·²å¯ç”¨ ")):_("",!0)]),Ie(We,{"enter-active-class":"transition-all duration-200 ease-out","enter-from-class":"opacity-0 -translate-y-2","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition-all duration-150 ease-in","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 -translate-y-2"},{default:Oe(()=>[u.value.enableSign?(d(),n("div",jr,[t[89]||(t[89]=e("label",{class:"mb-2 block text-sm font-medium text-gray-700 dark:text-gray-300"}," ç­¾åå¯†é’¥ ",-1)),y(e("input",{"onUpdate:modelValue":t[19]||(t[19]=a=>u.value.secret=a),class:"w-full rounded-xl border border-gray-300 bg-white px-4 py-3 font-mono text-sm text-gray-900 shadow-sm transition-all placeholder:text-gray-400 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20 dark:border-gray-600 dark:bg-gray-800 dark:text-white dark:placeholder:text-gray-500",placeholder:"SEC...",type:"text"},null,512),[[U,u.value.secret]])])):_("",!0)]),_:1})])])):_("",!0)])]),e("div",Tr,[e("div",Rr,[t[91]||(t[91]=e("div",{class:"text-xs text-gray-500 dark:text-gray-400"},[e("i",{class:"fas fa-asterisk mr-1 text-red-500"}),i(" å¿…å¡«é¡¹ ")],-1)),e("div",Nr,[e("button",{class:"group flex items-center rounded-xl border border-gray-300 bg-white px-4 py-2.5 text-sm font-medium text-gray-700 shadow-sm transition-all hover:bg-gray-50 hover:shadow-md dark:border-gray-600 dark:bg-gray-800 dark:text-gray-300 dark:hover:bg-gray-700",onClick:F},t[90]||(t[90]=[e("i",{class:"fas fa-times mr-2 transition-transform group-hover:scale-110"},null,-1),i(" å–æ¶ˆ ",-1)])),e("button",{class:"group flex items-center rounded-xl border border-blue-200 bg-blue-50 px-4 py-2.5 text-sm font-medium text-blue-700 shadow-sm transition-all hover:bg-blue-100 hover:shadow-md dark:border-blue-800 dark:bg-blue-900/50 dark:text-blue-300 dark:hover:bg-blue-900/70",disabled:c.value,onClick:de},[e("i",{class:O(["mr-2 transition-transform",c.value?"fas fa-spinner fa-spin":"fas fa-vial group-hover:scale-110"])},null,2),i(" "+f(c.value?"æµ‹è¯•ä¸­...":"æµ‹è¯•è¿æ¥"),1)],8,Pr),e("button",{class:"group flex items-center rounded-xl bg-gradient-to-r from-blue-600 to-indigo-600 px-5 py-2.5 text-sm font-medium text-white shadow-md transition-all hover:from-blue-700 hover:to-indigo-700 hover:shadow-lg disabled:cursor-not-allowed disabled:from-gray-400 disabled:to-gray-500",disabled:!u.value.url||W.value,onClick:se},[e("i",{class:O(["mr-2 transition-transform",W.value?"fas fa-spinner fa-spin":"fas fa-save group-hover:scale-110"])},null,2),i(" "+f(W.value?"ä¿å­˜ä¸­...":D.value?"ä¿å­˜ä¿®æ”¹":"æ·»åŠ å¹³å°"),1)],8,qr)])])])])])):_("",!0)],64))}}),zr=Ue($r,[["__scopeId","data-v-6d1ee6bd"]]);export{zr as default};
