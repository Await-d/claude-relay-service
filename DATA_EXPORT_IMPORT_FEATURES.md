# 数据导出导入功能说明

## 功能概述

Claude Relay Service 现已支持完整的数据导出导入功能，解决了原有导出文件为空的问题。

## 支持的数据类型

### 系统配置
- ✅ 调度策略配置
- ✅ 品牌设置（应用名称、主题、Logo等）
- ✅ 通知配置（邮件、webhook等）
- ✅ 双因素认证(2FA)配置

### 账户数据  
- ✅ API Keys及其配置
- ✅ Claude账户信息
- ✅ Claude Console账户
- ✅ Gemini账户信息
- ✅ OpenAI账户信息
- ✅ 管理员账户信息

### 使用统计
- ✅ API使用统计数据
- ✅ 系统性能指标
- ✅ 账户使用历史

## 安全特性

- **敏感数据脱敏** - 自动处理密码哈希、2FA密钥等敏感信息
- **数据完整性验证** - SHA-256校验和确保数据传输完整性
- **版本兼容性检查** - 确保导入数据与系统版本兼容
- **操作审计日志** - 完整记录所有导出导入操作

## 使用方法

### Web界面
1. 登录管理界面
2. 进入"数据管理"页面
3. 启用2FA验证
4. 选择导出数据类型
5. 下载导出文件或上传导入文件

### API调用
- `POST /admin/data/export` - 数据导出
- `POST /admin/data/import` - 数据导入
- 需要管理员权限和2FA验证

## 冲突处理策略

- **Skip** - 跳过已存在的数据项
- **Overwrite** - 完全覆盖现有数据  
- **Merge** - 智能合并，保留运行时状态

## 文件格式

导出的数据为ZIP压缩包，包含：
- 各数据类型的JSON文件
- `export-metadata.json` - 导出元数据
- `checksums.json` - 文件完整性校验

---

**状态**: 已完成  
**版本**: v1.0.0  
**更新日期**: 2025-01-30